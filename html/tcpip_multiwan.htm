<html>
<! Copyright (c) Realtek Semiconductor Corp., 2003. All Rights Reserved. ->
<head>
<meta http-equiv="Content-Type" content="text/html">
<% getIndex("no-cache"); %>
<title>WAN Interface Setup </title>
<style>
.on {display:on}
.off {display:none}
</style>
<% language=javascript %>
<script type="text/javascript" src="util_gw.js"> </script>
<% getInfo("include_css"); %>
<SCRIPT>
var initialDnsMode, pppConnectStatus=0;
var wlan_num =  <% getIndex("show_wlan_num"); %> ;
var wanEnable = <%getMultiWanIndex("WANInfaceEnabled")%>;
<% getMultiWanIndex("ipv6_jscomment_start");%>
var ipv6WanEnable = <%getMultiWanIndex("ipv6WanEnabled")%>;
<% getMultiWanIndex("ipv6_jscomment_end");%>

var mssid_num=<%getIndex("wlan_mssid_num");%>;
var wan_idx = <%getMultiWanIndex("currentWanIdx")%>;
var is_main_wan_support = <%getIndex("is_main_wan_support")%>;
var hw_nat_enabled = <%getMultiWanIndex("setMainWan")%>;

var wlanDisabled=new Array();
var mssid_disable=new Array(wlan_num);

for(i=0; i<wlan_num; i++)
{
	mssid_disable[i] = new Array(mssid_num);	
}
var wlanVxd_disable = new Array(wlan_num);

if(wlan_num>0){
	<%getInfo("wlan0-status");%>
	wlanDisabled[0] =<%getIndex("wlanDisabled");%>;
	mssid_disable[0][0] = <%getVirtualIndex("wlanDisabled", "1");%>;
	mssid_disable[0][1] = <%getVirtualIndex("wlanDisabled", "2");%>;
	mssid_disable[0][2] = <%getVirtualIndex("wlanDisabled", "3");%>;
	mssid_disable[0][3] = <%getVirtualIndex("wlanDisabled", "4");%>;
	wlanVxd_disable[0] = <%getIndex("wlanVxdDisabled")%>
}

if(wlan_num >1){
	<%getInfo("wlan1-status");%>
	wlanDisabled[1] = <%getIndex("wlanDisabled");%>;
	mssid_disable[1][0] = <%getVirtualIndex("wlanDisabled", "1");%>;
	mssid_disable[1][1] = <%getVirtualIndex("wlanDisabled", "2");%>;
	mssid_disable[1][2] = <%getVirtualIndex("wlanDisabled", "3");%>;
	mssid_disable[1][3] = <%getVirtualIndex("wlanDisabled", "4");%>; 
	wlanVxd_disable[1] = <%getIndex("wlanVxdDisabled")%>
}
function setPPPConnected()
{
   pppConnectStatus = 1;
}
function resetClicked()
{
   if(document.tcpip.wanType.selectedIndex != 0){
	   if(document.tcpip.dnsMode[0].checked)
	      disableDNSinput();
	   else
	      enableDNSinput();
   }

   document.tcpip.reset;
//alert("wlan_num="+wlan_num);
	location=location;
}

function abortClicked()
{
	document.tcpip.ChangeNotSave.value = "yes";	
}
function disableDNSinput()
{
   disableTextField(document.tcpip.dns1);
   disableTextField(document.tcpip.dns2);
   disableTextField(document.tcpip.dns3);
}

function enableDNSinput()
{
   enableTextField(document.tcpip.dns1);
   enableTextField(document.tcpip.dns2);
   enableTextField(document.tcpip.dns3);
}

function autoDNSclicked()
{
  disableDNSinput();
}

function manualDNSclicked()
{
  enableDNSinput();
}
function ipv6autoDNSclicked()
{
	disableipv6DNSinput();
}
function ipv6manualDNSclicked()
{
	enableipv6DNSinput();
}
function disableipv6DNSinput()
{
	//disable dns
   disableTextField(document.tcpip.wan_dns1_0);
   disableTextField(document.tcpip.wan_dns1_1);
   disableTextField(document.tcpip.wan_dns1_2);
   disableTextField(document.tcpip.wan_dns1_3);
   disableTextField(document.tcpip.wan_dns1_4);
   disableTextField(document.tcpip.wan_dns1_5);
   disableTextField(document.tcpip.wan_dns1_6);
   disableTextField(document.tcpip.wan_dns1_7);
   disableTextField(document.tcpip.prefix_len_dns1);
   disableTextField(document.tcpip.wan_dns2_0);
   disableTextField(document.tcpip.wan_dns2_1);
   disableTextField(document.tcpip.wan_dns2_2);
   disableTextField(document.tcpip.wan_dns2_3);
   disableTextField(document.tcpip.wan_dns2_4);
   disableTextField(document.tcpip.wan_dns2_5);
   disableTextField(document.tcpip.wan_dns2_6);
   disableTextField(document.tcpip.wan_dns2_7);
   disableTextField(document.tcpip.prefix_len_dns2);
}

function enableipv6DNSinput()
{
   	//enable dns
   enableTextField(document.tcpip.wan_dns1_0);
   enableTextField(document.tcpip.wan_dns1_1);
   enableTextField(document.tcpip.wan_dns1_2);
   enableTextField(document.tcpip.wan_dns1_3);
   enableTextField(document.tcpip.wan_dns1_4);
   enableTextField(document.tcpip.wan_dns1_5);
   enableTextField(document.tcpip.wan_dns1_6);
   enableTextField(document.tcpip.wan_dns1_7);
   enableTextField(document.tcpip.prefix_len_dns1);
   enableTextField(document.tcpip.wan_dns2_0);
   enableTextField(document.tcpip.wan_dns2_1);
   enableTextField(document.tcpip.wan_dns2_2);
   enableTextField(document.tcpip.wan_dns2_3);
   enableTextField(document.tcpip.wan_dns2_4);
   enableTextField(document.tcpip.wan_dns2_5);
   enableTextField(document.tcpip.wan_dns2_6);
   enableTextField(document.tcpip.wan_dns2_7);
   enableTextField(document.tcpip.prefix_len_dns2);
}
//static
function enablestaticinput()
{
   enableTextField(document.tcpip.wan_ip_0);
   enableTextField(document.tcpip.wan_ip_1);
   enableTextField(document.tcpip.wan_ip_2);
   enableTextField(document.tcpip.wan_ip_3);
   enableTextField(document.tcpip.wan_ip_4);
   enableTextField(document.tcpip.wan_ip_5);
   enableTextField(document.tcpip.wan_ip_6);
   enableTextField(document.tcpip.wan_ip_7);
   enableTextField(document.tcpip.prefix_len_ip);
   enableTextField(document.tcpip.wan_gw_0);
   enableTextField(document.tcpip.wan_gw_1);
   enableTextField(document.tcpip.wan_gw_2);
   enableTextField(document.tcpip.wan_gw_3);
   enableTextField(document.tcpip.wan_gw_4);
   enableTextField(document.tcpip.wan_gw_5);
   enableTextField(document.tcpip.wan_gw_6);
   enableTextField(document.tcpip.wan_gw_7);
   enableTextField(document.tcpip.prefix_len_gw);
}
//static_new


function disabledsliteinput()
{
   disableTextField(document.tcpip.wan_aftr_0);
   disableTextField(document.tcpip.wan_aftr_1);
   disableTextField(document.tcpip.wan_aftr_2);
   disableTextField(document.tcpip.wan_aftr_3);
   disableTextField(document.tcpip.wan_aftr_4);
   disableTextField(document.tcpip.wan_aftr_5);
   disableTextField(document.tcpip.wan_aftr_6);
   disableTextField(document.tcpip.wan_aftr_7);
   disableTextField(document.tcpip.prefix_len_aftr);
   disableTextField(document.tcpip.wan_ip_0);
   disableTextField(document.tcpip.wan_ip_1);
   disableTextField(document.tcpip.wan_ip_2);
   disableTextField(document.tcpip.wan_ip_3);
   disableTextField(document.tcpip.wan_ip_4);
   disableTextField(document.tcpip.wan_ip_5);
   disableTextField(document.tcpip.wan_ip_6);
   disableTextField(document.tcpip.wan_ip_7);
   disableTextField(document.tcpip.prefix_len_ip);
   disableTextField(document.tcpip.wan_gw_0);
   disableTextField(document.tcpip.wan_gw_1);
   disableTextField(document.tcpip.wan_gw_2);
   disableTextField(document.tcpip.wan_gw_3);
   disableTextField(document.tcpip.wan_gw_4);
   disableTextField(document.tcpip.wan_gw_5);
   disableTextField(document.tcpip.wan_gw_6);
   disableTextField(document.tcpip.wan_gw_7);
   disableTextField(document.tcpip.prefix_len_gw);
}
function enabledsliteinput()
{
   enableTextField(document.tcpip.wan_aftr_0);
   enableTextField(document.tcpip.wan_aftr_1);
   enableTextField(document.tcpip.wan_aftr_2);
   enableTextField(document.tcpip.wan_aftr_3);
   enableTextField(document.tcpip.wan_aftr_4);
   enableTextField(document.tcpip.wan_aftr_5);
   enableTextField(document.tcpip.wan_aftr_6);
   enableTextField(document.tcpip.wan_aftr_7);
   enableTextField(document.tcpip.prefix_len_aftr);
   enableTextField(document.tcpip.wan_ip_0);
   enableTextField(document.tcpip.wan_ip_1);
   enableTextField(document.tcpip.wan_ip_2);
   enableTextField(document.tcpip.wan_ip_3);
   enableTextField(document.tcpip.wan_ip_4);
   enableTextField(document.tcpip.wan_ip_5);
   enableTextField(document.tcpip.wan_ip_6);
   enableTextField(document.tcpip.wan_ip_7);
   enableTextField(document.tcpip.prefix_len_ip);
   enableTextField(document.tcpip.wan_gw_0);
   enableTextField(document.tcpip.wan_gw_1);
   enableTextField(document.tcpip.wan_gw_2);
   enableTextField(document.tcpip.wan_gw_3);
   enableTextField(document.tcpip.wan_gw_4);
   enableTextField(document.tcpip.wan_gw_5);
   enableTextField(document.tcpip.wan_gw_6);
   enableTextField(document.tcpip.wan_gw_7);
   enableTextField(document.tcpip.prefix_len_gw);
}

function autoipv6DNSclicked()
{
  disableipv6DNSinput();
  document.tcpip.ipv6dnsType.value=1;
}

function manualipv6DNSclicked()
{
  enableipv6DNSinput();
  document.tcpip.ipv6dnsType.value=0;
}
function autoDsliteclicked()
{
	//document.tcpip.dsliteAftrIpAddr6.disabled = true;
	//document.tcpip.dsliteWanIpAddr6.disabled = true;
	//document.tcpip.dsliteDefGw.disabled = true;
	disabledsliteinput();
 	disableipv6DNSinput();
}
function manualDsliteclicked()
{
	//document.tcpip.dsliteAftrIpAddr6.disabled = false;
	//document.tcpip.dsliteWanIpAddr6.disabled = false;
	//document.tcpip.dsliteDefGw.disabled = false;
	enabledsliteinput();
 	enableipv6DNSinput();
}
//new
function manualDsliteSelect()
{
	var dsliteAuto1 = <%getMultiWanIndex("dsliteMode");%> + 0;
	if(dsliteAuto1)
	{
		document.tcpip.elements["dsliteMode"][0].checked = true;
		autoDsliteclicked();
	}else
	{
		document.tcpip.elements["dsliteMode"][1].checked = true;
		manualDsliteclicked()
	}
}
//new

function pptpConnectClick(connect)
{
  if (document.tcpip.pptpConnectType.selectedIndex == 2 && pppConnectStatus==connect) {
      if (document.tcpip.pptpUserName.value=="") {
          alert('PPTP user name cannot be empty!');
	  document.tcpip.pptpUserName.value = document.tcpip.pptpUserName.defaultValue;
	  document.tcpip.pptpUserName.focus();
	  return false;
      }
      if (document.tcpip.pptpPassword.value=="") {
          alert('PPTP password cannot be empty!');
	  document.tcpip.pptpPassword.value = document.tcpip.pptpPassword.defaultValue;
	  document.tcpip.pptpPassword.focus();
	  return false;
      }
      return true;
  }
  return false;
}
function l2tpConnectClick(connect)
{
  if (document.tcpip.l2tpConnectType.selectedIndex == 2 && pppConnectStatus==connect) {
      if (document.tcpip.l2tpUserName.value=="") {
          alert('L2TP user name cannot be empty!');
	  document.tcpip.l2tpUserName.value = document.tcpip.l2tpUserName.defaultValue;
	  document.tcpip.l2tpUserName.focus();
	  return false;
      }
      if (document.tcpip.l2tpPassword.value=="") {
          alert('L2TP password cannot be empty!');
	  document.tcpip.l2tpPassword.value = document.tcpip.l2tpPassword.defaultValue;
	  document.tcpip.l2tpPassword.focus();
	  return false;
      }
      return true;
  }
  return false;
}
function pppConnectClick(connect)
{
  if (document.tcpip.pppConnectType.selectedIndex == 2 && pppConnectStatus==connect) {
      if (document.tcpip.pppUserName.value=="") {
          alert('PPP user name cannot be empty!');
	  document.tcpip.pppUserName.value = document.tcpip.pppUserName.defaultValue;
	  document.tcpip.pppUserName.focus();
	  return false;
      }
      if (document.tcpip.pppPassword.value=="") {
          alert('PPP password cannot be empty!');
	  document.tcpip.pppPassword.value = document.tcpip.pppPassword.defaultValue;
	  document.tcpip.pppPassword.focus();
	  return false;
      }
      return true;
  }
  return false;
}
function pppConnection_Init()
{
	disableButton(document.tcpip.pppConnect);
	disableButton(document.tcpip.pppDisconnect);
	disableTextField(document.tcpip.pppIdleTime);
	disableButton(document.tcpip.pptpConnect);
	disableButton(document.tcpip.pptpDisconnect);
	disableTextField(document.tcpip.pptpIdleTime);
	disableButton(document.tcpip.l2tpConnect);
	disableButton(document.tcpip.l2tpDisconnect);
	disableTextField(document.tcpip.l2tpIdleTime);
}
function pppTypeSelection(wan_type)
{
	if(wan_type == 0)
	{
		if ( document.tcpip.pppConnectType.selectedIndex == 2) 
		{
			if (pppConnectStatus==0) 
			{
				enableButton(document.tcpip.pppConnect);
				disableButton(document.tcpip.pppDisconnect);
			}
			else 
			{
				disableButton(document.tcpip.pppConnect);
				enableButton(document.tcpip.pppDisconnect);
			}
			disableTextField(document.tcpip.pppIdleTime);
		}
		else 
		{
			disableButton(document.tcpip.pppConnect);
			disableButton(document.tcpip.pppDisconnect);
			if (document.tcpip.pppConnectType.selectedIndex == 1)
				enableTextField(document.tcpip.pppIdleTime);
			else
				disableTextField(document.tcpip.pppIdleTime);
		}
	}
	
	if(wan_type == 1)
	{
		if (document.tcpip.pptpConnectType.selectedIndex == 2) 
		{
			if (pppConnectStatus==0) 
			{
				enableButton(document.tcpip.pptpConnect);
				disableButton(document.tcpip.pptpDisconnect);
			}
			else 
			{
				disableButton(document.tcpip.pptpConnect);
				enableButton(document.tcpip.pptpDisconnect);
			}
			disableTextField(document.tcpip.pptpIdleTime);
		}
		else 
		{
			disableButton(document.tcpip.pptpConnect);
			disableButton(document.tcpip.pptpDisconnect);
			if (document.tcpip.pptpConnectType.selectedIndex == 1)
				enableTextField(document.tcpip.pptpIdleTime);
			else
				disableTextField(document.tcpip.pptpIdleTime);
		}
	}
	
	if(wan_type == 2)
	{
		if ( document.tcpip.l2tpConnectType.selectedIndex == 2) 
		{
			if (pppConnectStatus==0) 
			{
				enableButton(document.tcpip.l2tpConnect);
				disableButton(document.tcpip.l2tpDisconnect);
			}
			else 
			{
				disableButton(document.tcpip.l2tpConnect);
				enableButton(document.tcpip.l2tpDisconnect);
			}
			disableTextField(document.tcpip.l2tpIdleTime);
		}
		else 
		{
			disableButton(document.tcpip.l2tpConnect);
			disableButton(document.tcpip.l2tpDisconnect);
			if (document.tcpip.l2tpConnectType.selectedIndex == 1)
				enableTextField(document.tcpip.l2tpIdleTime);
			else
				disableTextField(document.tcpip.l2tpIdleTime);
		}
	}

   
}

function linkTypeSelection(field)
{
	if(!document.getElementById){
  		alert('Error! Your browser must have CSS support !');
  		return;
  	}
  if(field.value == 0){	//ipoe
  	//SelectItemByValue(document.tcpip.wanType, 1);
	document.tcpip.dnsMode[0].disabled = false ;
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();
  	serviceTypeSelection();
  }
  else if(field.value == 1){//pppoe
	//SelectItemByValue(document.tcpip.wanType, 3);
	document.tcpip.dnsMode[0].disabled = false ;
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();
	if(<% getMultiWanIndex("pppConnectType"); %> ==1)
	{
		enableTextField(document.tcpip.pppIdleTime);
	}	
	pppTypeSelection(0);
	document.tcpip.wanType.options.length = 0;
  	document.tcpip.wanType.options.add(new Option("PPPoE","3"));
  	SelectItemByValue(document.tcpip.wanType, 3);
  	wanShowDiv(1, 1, 0, 0, 0, 0);
  	wanTypeSelection(document.tcpip.wanType);


  }
}
function ipv6wanTypeSelection(field)
{
  if(!document.getElementById){
  	alert('Error! Your browser must have CSS support !');
  	return;
  }
  if(document.tcpip.ipv6wan_enable.checked==true)
  {
	  if(field.value == 0){	//auto
	  	ipv6wanShowDiv(0, 0,0,0,0); //ipv6static, ipv6dhcp, dslite, ipv6dns, ipv66rd
		disableipv6DNSinput();
		<% getMultiWanIndex("isp_mld_jscomment_start"); %>
		document.tcpip.ispMldProxyEnabled.disabled=false;
		<% getMultiWanIndex("isp_mld_jscomment_end"); %>
	  }
	  else if(field.value == 1){//staic
	  	ipv6wanShowDiv(1,0,0,1,0);
		enablestaticinput();
		enableipv6DNSinput();
		<% getMultiWanIndex("isp_mld_jscomment_start"); %>
		document.tcpip.ispMldProxyEnabled.disabled=false;
		<% getMultiWanIndex("isp_mld_jscomment_end"); %>
	  }else if(field.value == 2){ //slaac
	  	ipv6wanShowDiv(0,0,0,0,0);
		disableipv6DNSinput();
		<% getMultiWanIndex("isp_mld_jscomment_start"); %>
		document.tcpip.ispMldProxyEnabled.disabled=false;
		<% getMultiWanIndex("isp_mld_jscomment_end"); %>
	  }else if(field.value == 3){ //dhcpv6
	  	ipv6wanShowDiv(0,1,0,0,0); 
		disableipv6DNSinput();
		<% getMultiWanIndex("isp_mld_jscomment_start"); %>
		document.tcpip.ispMldProxyEnabled.disabled=false;
		<% getMultiWanIndex("isp_mld_jscomment_end"); %>
	  }else if(field.value == 4){ //dslite
	  	ipv6wanShowDiv(1,0,1,1,0);
		manualDsliteSelect();
		<% getMultiWanIndex("isp_mld_jscomment_start"); %>
		document.tcpip.ispMldProxyEnabled.disabled=true;
		<% getMultiWanIndex("isp_mld_jscomment_end"); %>
	  }else if(field.value == 5){ //ipv6 bridge
	  	ipv6wanShowDiv(0,0,0,0,0);
		disableipv6DNSinput();
		<% getMultiWanIndex("isp_mld_jscomment_start"); %>
		document.tcpip.ispMldProxyEnabled.disabled=true;
		<% getMultiWanIndex("isp_mld_jscomment_end"); %>
	  }	else if(field.value == 6){ //6rd
	  	ipv6wanShowDiv(0,0,0,1,1);
		<% getMultiWanIndex("isp_mld_jscomment_start"); %>
		document.tcpip.ispMldProxyEnabled.disabled=true;
		<% getMultiWanIndex("isp_mld_jscomment_end"); %>
	  }
  	}
}
function wanTypeSelection(field)
{
  //document.tcpip.submit();
  if(!document.getElementById){
  	alert('Error! Your browser must have CSS support !');
  	return;
  }
  
  
  if(field.value == 0){	//static ip
  	wanShowDiv(1,  0, 1, 0,0,0); //dns, pppoe, static (div), bridge,pptp,l2tp
	enableDNSinput();	
	//SelectItemByValue(document.tcpip.linkType, 0);
	document.tcpip.dnsMode[0].disabled = true ;
	document.tcpip.dnsMode[1].checked = true ; // dns change to manual mode
	document.tcpip.upnpEnabled.disabled = false;
	document.tcpip.igmpproxyEnabled.disabled = false;
<% getMultiWanIndex("onPhyIf_jscomment_start"); %>
	document.tcpip.onPhysicalInterface.disabled = true;
<% getMultiWanIndex("onPhyIf_jscomment_end"); %>

  }
  else if(field.value == 1){ //Dhcp
  	wanShowDiv(1,  0, 0, 0,0,0);  
	//SelectItemByValue(document.tcpip.linkType, 0);
	document.tcpip.dnsMode[0].disabled = false ;
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();
	document.tcpip.upnpEnabled.disabled = false;
	document.tcpip.igmpproxyEnabled.disabled = false;
<% getMultiWanIndex("onPhyIf_jscomment_start"); %>
	document.tcpip.onPhysicalInterface.disabled = true;
<% getMultiWanIndex("onPhyIf_jscomment_end"); %>

  }else if(field.value == 3){ //pppoe
  	wanShowDiv(1,  1, 0, 0,0,0); 
	document.tcpip.dnsMode[0].disabled = false ;
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();
	if(<% getMultiWanIndex("pppConnectType"); %> ==1)
	{
		enableTextField(document.tcpip.pppIdleTime);
	}	
	//SelectItemByValue(document.tcpip.linkType, 1);
	pppTypeSelection(0);
	document.tcpip.upnpEnabled.disabled = false;
	document.tcpip.igmpproxyEnabled.disabled = false;
<% getMultiWanIndex("onPhyIf_jscomment_start"); %>
	if (document.tcpip.igmpproxyEnabled.checked)
		document.tcpip.onPhysicalInterface.disabled = false;
	else
		document.tcpip.onPhysicalInterface.disabled = true;
<% getMultiWanIndex("onPhyIf_jscomment_end"); %>

  }else if(field.value == 20){ //bridge
  	wanShowDiv(1,  0, 0, 1,0,0); 
	document.tcpip.dnsMode[0].disabled = false ;
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();
	//SelectItemByValue(document.tcpip.linkType, 0);
	document.tcpip.upnpEnabled.disabled = true;
	document.tcpip.igmpproxyEnabled.disabled = true;
<% getMultiWanIndex("onPhyIf_jscomment_start"); %>
	document.tcpip.onPhysicalInterface.disabled = true;
<% getMultiWanIndex("onPhyIf_jscomment_end"); %>
  }else if(field.value == 4){ //pptp
  	wanShowDiv(1,  0, 0, 0,1,0); 
	document.tcpip.dnsMode[0].disabled = false ;
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();
	//SelectItemByValue(document.tcpip.linkType, 0);
	if(<% getMultiWanIndex("pptpConnectType"); %> ==1)
	{
		enableTextField(document.tcpip.pptpIdleTime);
	}
		pppTypeSelection(1);

	document.tcpip.upnpEnabled.disabled = false;
	document.tcpip.igmpproxyEnabled.disabled = true;
<% getMultiWanIndex("onPhyIf_jscomment_start"); %>
	document.tcpip.onPhysicalInterface.disabled = true;
<% getMultiWanIndex("onPhyIf_jscomment_end"); %>

  }else if(field.value == 6){ //l2tp
  	wanShowDiv(1,  0, 0, 0,0,1); 
	document.tcpip.dnsMode[0].disabled = false ;
	if(document.tcpip.dnsMode[0].checked)
		disableDNSinput();
	//SelectItemByValue(document.tcpip.linkType, 0);
	if(<% getMultiWanIndex("l2tpConnectType"); %> ==1)
	{
		enableTextField(document.tcpip.l2tpIdleTime);
	}
	pppTypeSelection(2);
	document.tcpip.upnpEnabled.disabled = false;
	document.tcpip.igmpproxyEnabled.disabled = true;
<% getMultiWanIndex("onPhyIf_jscomment_start"); %>
	document.tcpip.onPhysicalInterface.disabled = true;
<% getMultiWanIndex("onPhyIf_jscomment_end"); %>
  }

  /*
  var wan_connection_type=document.tcpip.wanType.selectedIndex;
   if(wan_connection_type == 2)
   		pppTypeSelection(0);
   	else if(wan_connection_type == 3)
   		pppTypeSelection(1);
   	else
   		pppConnection_Init();*/
}

  function serviceTypeSelection()
  {
    var ipv6 = <% getIndex("ipv6"); %>;
	  var service_type = document.tcpip.serviceType.value;
	  var wanType_obj  = document.getElementById('wanType');

    if(ipv6)
    {
      var type = document.tcpip.linkType.value;
      if ( type == 0 ) {
        if(service_type == 32){//TR069_Bridge,only can select bridge
          wanType_obj.options.length = 0;
          wanType_obj.options.add(new Option("Bridge","20"));
          SelectItemByValue(document.tcpip.wanType, 20);
          wanShowDiv(1, 0, 0, 1, 0, 0);
        }else if(service_type == 4 || service_type == 16){// OTHERS/IPTV
          wanType_obj.options.length = 0;
          wanType_obj.options.add(new Option("Static IP","0"));
          wanType_obj.options.add(new Option("DHCP Client","1"));
          <% getInfo("vpn_js_start");%>
          wanType_obj.options.add(new Option("PPTP","4"));
          wanType_obj.options.add(new Option("L2TP","6"));
          <% getInfo("vpn_js_end");%>
          wanType_obj.options.add(new Option("Bridge","20"));
          SelectItemByValue(document.tcpip.wanType, 1);
          wanShowDiv(1, 0, 0, 0, 0, 0);
        }else{//tr069/internet
          wanType_obj.options.length = 0;
          wanType_obj.options.add(new Option("Static IP","0"));
          wanType_obj.options.add(new Option("DHCP Client","1"));
          <% getInfo("vpn_js_start");%>
          wanType_obj.options.add(new Option("PPTP","4"));
          wanType_obj.options.add(new Option("L2TP","6"));
          <% getInfo("vpn_js_end");%>
          SelectItemByValue(document.tcpip.wanType, 1);
          wanShowDiv(1, 0, 0, 0, 0, 0);
        }
      }
      else if ( type == 1 ) {
        wanType_obj.options.length = 0;
        wanType_obj.options.add(new Option("PPPoE","3"));
        SelectItemByValue(document.tcpip.wanType, 3);
        wanShowDiv(1, 1, 0, 0, 0, 0);
      }
    }
  	else
  	{
      if(service_type == 32){//TR069_Bridge,only can select bridge
        wanType_obj.options.length = 0;
        wanType_obj.options.add(new Option("Bridge","20"));
        SelectItemByValue(document.tcpip.wanType, 20);
		 wanShowDiv(1, 0, 0, 1, 0, 0);
      }else if(service_type == 4 || service_type == 16){// OTHERS/IPTV
        wanType_obj.options.length = 0;
        wanType_obj.options.add(new Option("Static IP","0"));
        wanType_obj.options.add(new Option("DHCP Client","1"));
        wanType_obj.options.add(new Option("PPPoE","3"));
        <% getInfo("vpn_js_start");%>
        wanType_obj.options.add(new Option("PPTP","4"));
        wanType_obj.options.add(new Option("L2TP","6"));
        <% getInfo("vpn_js_end");%>
        wanType_obj.options.add(new Option("Bridge","20"));
        SelectItemByValue(document.tcpip.wanType, 1);
        wanShowDiv(1, 0, 0, 0, 0, 0);
      }else{//tr069/internet
        wanType_obj.options.length = 0;
        wanType_obj.options.add(new Option("Static IP","0"));
        wanType_obj.options.add(new Option("DHCP Client","1"));
        wanType_obj.options.add(new Option("PPPoE","3"));
        <% getInfo("vpn_js_start");%>
        wanType_obj.options.add(new Option("PPTP","4"));
        wanType_obj.options.add(new Option("L2TP","6"));
        <% getInfo("vpn_js_end");%>
        SelectItemByValue(document.tcpip.wanType, 1);
        wanShowDiv(1, 0, 0, 0, 0, 0);
      }
  	}
	wanTypeSelection(document.tcpip.wanType);
  }

function enableTextField (field) {
	if(field)
	{
		if (document.all || document.getElementById)
			field.disabled = false;
		else {
			field.onfocus = field.oldOnFocus;
		}
	}
}
function disableButton (button) {
	if(button)
	{
		if (document.all || document.getElementById)
			button.disabled = true;
		else{
			button.oldOnClick = button.onclick;
			button.onclick = null;
			button.oldValue = button.value;
			button.value = 'DISABLED';
		}
	}
}
function disableTextField (field) {
	if(field)
	{
		if (document.all || document.getElementById)
			field.disabled = true;
		else {
			field.oldOnFocus = field.onfocus;
			field.onfocus = skip;
		}
	}
}
/*
function wanShowDiv(dns_bool, pppoe_bool, static_bool, bridge_bool)
{

  	show_div(dns_bool,"dns_div");  	
  	show_div(pppoe_bool,"pppoe_div");
  	show_div(static_bool,"static_div"); 
	show_div(bridge_bool,"bridge_div"); 
	show_div(1,"other_div");
	show_div(1,"port_binding_div");
	show_div(1,"vlan_div");
  	if ( pppoe_bool==0 && static_bool==0 && dns_bool && bridge_bool==0) 
  	  	show_div(1,"dhcp_div");  	
  	else
  		show_div(0,"dhcp_div");
}
**/
function wanShowDiv(dns_bool, pppoe_bool, static_bool, bridge_bool,pptp_bool,l2tp_bool)
{
  	show_div(dns_bool,"dns_div");  	
  	show_div(pppoe_bool,"pppoe_div");
  	show_div(static_bool,"static_div"); 
	show_div(bridge_bool,"bridge_div"); 
	show_div(pptp_bool,"pptp_div"); 
	show_div(l2tp_bool,"l2tp_div"); 	
	show_div(1,"other_div");
	show_div(1,"port_binding_div");
	show_div(1,"vlan_div");
  	if ( pppoe_bool==0 && static_bool==0 && dns_bool && bridge_bool==0 && pptp_bool==0 && l2tp_bool==0) 
  	  	show_div(1,"dhcp_div");  	
  	else
  		show_div(0,"dhcp_div");
	show_div(1,"igmp_div");
}

function ipv6wanShowDiv(ipv6static_bool, ipv6dhcp_bool,ipv6dslite_bool, ipv6dns_bool, ipv66rd_bool)
{
  	show_div(ipv6static_bool,"ipv6static_div"); 
	show_div(ipv6dhcp_bool,"ipv6dhcp_div"); 
	show_div(ipv6dslite_bool,"dslite_div"); 
	show_div(ipv6dns_bool,"ipv6dns_div");
	show_div(ipv66rd_bool,"ipv6rd_div");
	show_div(1,"mld_div");
}

function onclkVlanEnable()
{
	if(document.tcpip.checkbox_vlanEnable.checked == true)
	{
		enable_vlan();
	}else
	{
		disable_vlan();
	}
}

function onclkIgmpproxyEnable()
{
<% getMultiWanIndex("onPhyIf_jscomment_start"); %>
	if(document.tcpip.igmpproxyEnabled.checked == true)
	{
		if(document.tcpip.wanType.value == 3)//pppoe
			document.tcpip.onPhysicalInterface.disabled = false;
		else
			document.tcpip.onPhysicalInterface.disabled = true;
	}
	else
	{
		document.tcpip.onPhysicalInterface.disabled = true;
	}
<% getMultiWanIndex("onPhyIf_jscomment_end"); %>
}

function disable_vlan()
{
	document.tcpip.INPUT_VlanId.disabled = true;
	document.tcpip.INPUT_vlan_priority.disabled = true;
	
}
function enable_vlan()
{
	document.tcpip.INPUT_VlanId.disabled = false;
	document.tcpip.INPUT_vlan_priority.disabled = false;
	
}
function enable_wan_all()
{
	document.tcpip.wanType.disabled=false;
	document.tcpip.serviceType.disabled=false;
	wanEnable = 1;
<% getMultiWanIndex("ipv6_jscomment_start");%>
	if(document.tcpip.ipv6wan_enable.checked==true)
	{
		ipv6WanEnable = 1;
		//show_div(1,"link_div");
		show_div(1,"ipv6wan_div");
	}
<% getMultiWanIndex("ipv6_jscomment_end");%>
	Load_Setting();

}

function disable_wan_all()
{
	if(document.tcpip.wan_enable.checked==false)
	{
	
		document.getElementById("static_div").className  = "off";
		document.getElementById("dhcp_div").className  = "off";
		document.getElementById("pppoe_div").className  = "off";
		document.getElementById("port_binding_div").className  = "off";
		document.getElementById("vlan_div").className  = "off";
		document.getElementById("dns_div").className  = "off";
		document.getElementById("other_div").className  = "off";
		document.getElementById("igmp_div").className  = "off";
		document.tcpip.wanType.disabled=true;
		document.tcpip.serviceType.disabled=true;
		if(document.tcpip.setMainWan)
			document.tcpip.setMainWan.disabled=true;
<% getMultiWanIndex("ipv6_jscomment_start");%>
		document.tcpip.linkType.disabled=true;
		document.tcpip.ipv6wan_enable.checked=false;
		document.tcpip.ipv6wan_enable.disabled=true;
		disable_ipv6wan_all();
	}else if(document.tcpip.ipv6wan_enable.checked==false)
	{
		disable_ipv6wan_all();
<% getMultiWanIndex("ipv6_jscomment_end");%>
	}
}
function wan_enable_select(checked)
{
	if(checked)
		enable_wan_all();
	else
		disable_wan_all();
}

function hw_nat_service_type(hw_nat_checked){
	var serviceType_selectVal = document.tcpip.serviceType.value;
	var serviceType_obj  = document.getElementById('serviceType');	
	
 	serviceType_obj.options.length = 0;
	if(hw_nat_checked){
		serviceType_obj.options.add(new Option("INTERNET","2"));
		serviceType_obj.options.add(new Option("TR069_INTERNET","64"));
	}else{
		serviceType_obj.options.add(new Option("INTERNET","2"));
		serviceType_obj.options.add(new Option("TR069","1"));
		serviceType_obj.options.add(new Option("TR069_INTERNET","64"));
		serviceType_obj.options.add(new Option("TR069_Bridge","32"));
		serviceType_obj.options.add(new Option("IPTV","16"));
		serviceType_obj.options.add(new Option("OTHERS","4"));
	}	
	//alert("serviceType_selectVal = " + serviceType_selectVal);
	
	if(serviceType_selectVal == 2 || serviceType_selectVal == 64 )
		 SelectItemByValue(document.tcpip.serviceType, serviceType_selectVal);

}

function main_wan_select(checked){
	if(checked)
		hw_nat_service_type(1);
	else
		hw_nat_service_type(0);
}

function saveChanges_ipv6wan(form)
{
	if(document.getElementById("ipv6static_div").className  == "on")
	{
		with(document.tcpip)
		{
			if(!checkIpv6Addr(wan_ip_0,wan_ip_1,wan_ip_2,wan_ip_3,wan_ip_4,wan_ip_5,
				wan_ip_6,wan_ip_7,prefix_len_ip,"static ip address invalid!"))
				return false;
			if(!checkIpv6Addr(wan_gw_0,wan_gw_1,wan_gw_2,wan_gw_3,wan_gw_4,wan_gw_5,
				wan_gw_6,wan_gw_7,prefix_len_gw,"gateway address invalid!"))
				return false;			
		}
	}
	
	if(document.getElementById("ipv6dns_div").className  == "on")
	{
		with(document.tcpip)
		{
			//if(elements["ipv6dnsMode"][1].checked == true)
			{
				if(!(checkIpv6Addr(wan_dns1_0,wan_dns1_1,wan_dns1_2,wan_dns1_3,wan_dns1_4,
					wan_dns1_5,wan_dns1_6,wan_dns1_7,prefix_len_dns1,"dns1 address invalid!")
					&& checkIpv6Addr(wan_dns2_0,wan_dns2_1,wan_dns2_2,wan_dns2_3,wan_dns2_4,
					wan_dns2_5,wan_dns2_6,wan_dns2_7,prefix_len_dns2,"dns2 address invalid!")))
					return false;				
			}
		}
	}
	return true;
}
function multiWan_saveChanges_wan(form)
{
	if(form.wan_enable.checked)
	{	//check ipv4
		if(!saveChanges_wan(form))
			return false;
		<%getMultiWanIndex("setMainWan_jscomment_start");%>
		if((!<%getMultiWanIndex("otherMainWanNum");%>) 
			&& (form.setMainWan.disabled || (!form.setMainWan.checked)))
		{
			alert("Please remember to select one wan set as main wan!");
		}
		<%getMultiWanIndex("setMainWan_jscomment_end");%>
<% getMultiWanIndex("ipv6_jscomment_start");%>
		if(form.ipv6wan_enable.checked)
		{	//check ipv6
			if(!saveChanges_ipv6wan(form))
			{
				return false;
			}
		}
<% getMultiWanIndex("ipv6_jscomment_end");%>
		return true;
	}
	return true;
}
function SelectItemByValue(objSelect,objItemText)
{  
    for(var i=0;i<objSelect.options.length;i++) {  
        if(objSelect.options[i].value == objItemText) {  
            objSelect.options[i].selected = true;  
            break;  
        }  
    }  
} 
function load_ipv6_Setting()
{
	if(wanEnable)
	{
		document.tcpip.ipv6wan_enable.disabled=false;
		if(ipv6WanEnable)
		{
			document.tcpip.ipv6wan_enable.checked=true;
			enable_ipv6();
		}else
		{
			document.tcpip.ipv6wan_enable.checked=false;
		}
	}
	else
	{
		document.tcpip.ipv6wan_enable.checked=false;
		document.tcpip.ipv6wan_enable.disabled=true;
		return;
	}
	//for mldproxy
	<% getMultiWanIndex("isp_mld_jscomment_start"); %>
	if(ipv6WanEnable)
		document.tcpip.ispMldProxyEnabled.disabled = false;
	else
		document.tcpip.ispMldProxyEnabled.disabled = true;
	<% getMultiWanIndex("isp_mld_jscomment_end"); %>
}
function enable_ipv6wan_all()
{
	if(document.tcpip.ipv6wan_enable.checked==true)
	{
		ipv6WanEnable = 1;
		//show_div(1,"link_div");
		show_div(1,"ipv6wan_div");
	}
	load_ipv6_Setting();
}
function disable_ipv6wan_all()
{
		//document.getElementById("link_div").className  = "off";
		document.getElementById("ipv6wan_div").className  = "off";
		document.getElementById("ipv6static_div").className  = "off";
		document.getElementById("ipv6dhcp_div").className  = "off";
		document.getElementById("dslite_div").className  = "off";
		document.getElementById("ipv6dns_div").className  = "off";
		document.getElementById("ipv6rd_div").className  = "off";		
	<% getMultiWanIndex("isp_mld_jscomment_start"); %>
		document.tcpip.ispMldProxyEnabled.disabled=true;
	<% getMultiWanIndex("isp_mld_jscomment_end"); %>
}
function ipv6wan_enable_select()
{
	if(document.tcpip.ipv6wan_enable.checked == true)
		enable_ipv6wan_all();
	else
		disable_ipv6wan_all();	
}
function enable_ipv6()
{		
	//var linkType = <% getMultiWanIndex("ipv6LinkType");%> + 0;
	var ipv6WanType = <%getMultiWanIndex("ipv6Origin");%> + 0;
	//var ipv6WanDnsAuto = 0;	//<%getMultiWanIndex("wan_ipv6DnsAuto");%> + 0;
	var dsliteAuto = <%getMultiWanIndex("dsliteMode");%> + 0;
	var requestdhcpv6Addr = <%getMultiWanIndex("enable_dhcpv6reqaddr");%> + 0;
	var requestdhcpv6pd = <%getMultiWanIndex("enable_dhcpv6pd");%> + 0;
	var rapidcommit=<%getMultiWanIndex("enable_dhcpv6RapidCommit");%> + 0;	
	//show_div(1,"link_div");
	show_div(1,"ipv6wan_div");
	//document.tcpip.linkType.value = linkType;
	//linkTypeSelection(document.tcpip.linkType);
	document.tcpip.ipv6WanType.value = ipv6WanType;
	ipv6wanTypeSelection(document.tcpip.ipv6WanType);
	//for DSLITE
	/*if(dsliteAuto)
	{
		document.tcpip.elements["dsliteMode"][0].checked = true;
		autoDsliteclicked();
	}else
	{
		document.tcpip.elements["dsliteMode"][1].checked = true;
		manualDsliteclicked()
	}*/
	//for DHCPv6 Client
	if(requestdhcpv6Addr)
	{
		document.tcpip.dhcpv6Addr.checked=true;
	}else
	{
		document.tcpip.dhcpv6Addr.checked=false;

	}	
	if(requestdhcpv6pd)
	{
		document.tcpip.dhcpv6Pd.checked=true;
	}else
	{
		document.tcpip.dhcpv6Pd.checked=false;
	}
	if(rapidcommit)
	{
		document.tcpip.rapidEnable.checked=true;
	}else
	{
		document.tcpip.rapidEnable.checked=false;
	}

	//for mldproxy
	<% getMultiWanIndex("isp_mld_jscomment_start");%>
	if(<%getMultiWanIndex("ispMldProxyEnabled");%>)
		document.tcpip.ispMldProxyEnabled.checked = true;
	else
		document.tcpip.ispMldProxyEnabled.checked = false;	
	<% getMultiWanIndex("isp_mld_jscomment_end");%>
}

function Load_Setting()
{

	var wanDhcp_ = <% getMultiWanIndex("wanDhcp"); %>;
	//static ip=0, DHCP_CLIENT=1,  PPPOE=3,  BRIDGE=17
	var wanDhcp_selidx = 0;
	var wanServerType = <%getMultiWanIndex("wanServerType");%>;
	//TR069_INTERNET(0),INTERNET(1), TR069(2),  Other(3)
	var wanBindPortArray = new Array(<%getMultiWanIndex("wanBindPortArray")%>);
	var availableBindPortArray = new Array(<%getMultiWanIndex("availableBindingPorts")%>);
	var wanBindLanPortNum = <%getMultiWanIndex("wanBindLanPortNum");%>;
	var wanBindWlanPortNum = <%getMultiWanIndex("wanBindWlanPortNum");%>;
	var wanDnsAuto = <%getMultiWanIndex("wanDnsAuto");%>;
	if(wanEnable)
	{
		document.tcpip.wan_enable.checked=true;
		document.getElementById("igmp_div").className  = "on";
<% getMultiWanIndex("ipv6_jscomment_start");%>
		document.tcpip.linkType.disabled=false;
		document.tcpip.ipv6wan_enable.disabled=false;	
		
		if(ipv6WanEnable)
		{	
			document.tcpip.ipv6wan_enable.checked=true;
			enable_ipv6();
		}else
		{
			document.tcpip.ipv6wan_enable.checked=false;
		}
<% getMultiWanIndex("ipv6_jscomment_end");%>
	}
	else
	{
		document.tcpip.wan_enable.checked=false;
		disable_wan_all();
<% getMultiWanIndex("ipv6_jscomment_start");%>
		show_div(1,"link_div");
		document.tcpip.ipv6wan_enable.checked=false;
		document.tcpip.ipv6wan_enable.disabled=true;
<% getMultiWanIndex("ipv6_jscomment_end");%>
		return;
	}

	//for dns
	if(wanDnsAuto)
	{
		document.tcpip.elements["dnsMode"][0].checked = true;
	}else
	{
		document.tcpip.elements["dnsMode"][1].checked = true;
	}
	//maping wanDhcp value to select_index
	//if(wanDhcp_ == 0 || wanDhcp_ == 1)
	//	wanDhcp_selidx = wanDhcp_;
	//if(wanDhcp_==3)
	//		wanDhcp_selidx=2;
	//if(wanDhcp_==20)
	//		wanDhcp_selidx=5;
	//if(wanDhcp_==4)
	//		wanDhcp_selidx=3;
	//if(wanDhcp_==6)
	//		wanDhcp_selidx=4;
	
	//document.tcpip.wanType.selectedIndex = wanDhcp_selidx;
<% getMultiWanIndex("ipv6_jscomment_start");%>
	var linkType = <% getMultiWanIndex("ipv6LinkType");%> + 0;
	document.tcpip.linkType.value = linkType;
	linkTypeSelection(document.tcpip.linkType);	
	show_div(1,"link_div");
<% getMultiWanIndex("ipv6_jscomment_end");%>
	
	document.tcpip.serviceType.value = wanServerType;
	serviceTypeSelection();
	SelectItemByValue(document.tcpip.wanType, wanDhcp_);
	wanTypeSelection(document.tcpip.wanType);
	
/*	for vlan	*/
	if( <% getMultiWanIndex("vlanEnable"); %>)
	{
		document.tcpip.checkbox_vlanEnable.checked = true;
		enable_vlan();
	}else
	{
		document.tcpip.checkbox_vlanEnable.checked = false;
		disable_vlan();
	}
	document.tcpip.INPUT_VlanId.value=<%getMultiWanIndex("INPUT_VlanId")%>;
	document.tcpip.INPUT_vlan_priority.value=<%getMultiWanIndex("INPUT_vlan_priority")%>;

	if (<% getMultiWanIndex("pptpSecurity"); %>)
		document.tcpip.pptpSecurity.checked = true;

	if (<% getMultiWanIndex("pptpCompress"); %>)
		document.tcpip.pptpCompress.checked = true;

/*	for wan port binding	*/
	if(availableBindPortArray[0])
	{
		document.tcpip.INPUT_LanPort1.checked=wanBindPortArray[0];
	}else
	{
		document.tcpip.INPUT_LanPort1.disabled=true;
	}
	if(availableBindPortArray[1])
	{
		document.tcpip.INPUT_LanPort2.checked=wanBindPortArray[1];
	}else
	{
		document.tcpip.INPUT_LanPort2.disabled=true;
	}
	if(availableBindPortArray[2])
	{
		document.tcpip.INPUT_LanPort3.checked=wanBindPortArray[2];
	}else
	{
		document.tcpip.INPUT_LanPort3.disabled=true;
	}
	if(availableBindPortArray[3])
	{
		document.tcpip.INPUT_LanPort4.checked=wanBindPortArray[3];
	}else
	{
		document.tcpip.INPUT_LanPort4.disabled=true;
	}	
	
	if(wlanDisabled[0]==0){ 
		if(availableBindPortArray[wanBindLanPortNum])
		{
			document.tcpip.INPUT_Wlan1Ssid0.checked=wanBindPortArray[wanBindLanPortNum];
		}else
		{
			document.tcpip.INPUT_Wlan1Ssid0.disabled=true;
		}

		if(mssid_disable[0][0]==0){
			if(availableBindPortArray[wanBindLanPortNum+1])
			{
				document.tcpip.INPUT_Wlan1Ssid1.checked=wanBindPortArray[wanBindLanPortNum+1];
			}else
			{
				document.tcpip.INPUT_Wlan1Ssid1.disabled=true;
			}
		}

		if(mssid_disable[0][1]==0){
			if(availableBindPortArray[wanBindLanPortNum+2])
			{
				document.tcpip.INPUT_Wlan1Ssid2.checked=wanBindPortArray[wanBindLanPortNum+2];
			}else
			{
				document.tcpip.INPUT_Wlan1Ssid2.disabled=true;
			}
		}
		
		if(mssid_disable[0][2]==0){
			if(availableBindPortArray[wanBindLanPortNum+3])
			{
				document.tcpip.INPUT_Wlan1Ssid3.checked=wanBindPortArray[wanBindLanPortNum+3];
			}else
			{
				document.tcpip.INPUT_Wlan1Ssid3.disabled=true;
			}
		}
		
		if(mssid_disable[0][3]==0){
			if(availableBindPortArray[wanBindLanPortNum+4])
			{
				document.tcpip.INPUT_Wlan1Ssid4.checked=wanBindPortArray[wanBindLanPortNum+4];
			}else
			{
				document.tcpip.INPUT_Wlan1Ssid4.disabled=true;
			}
		}
		if(wlanVxd_disable[0]==0){
			if(availableBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2-1])
			{
				document.tcpip.INPUT_Wlan1Vxd.checked=wanBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2-1];
			}else
			{
				document.tcpip.INPUT_Wlan1Vxd.disabled=true;
			}
		}
	}
	if(wlan_num>1)
	{
		if(wlanDisabled[1]==0){ 
			if(availableBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2])
			{
				document.tcpip.INPUT_Wlan2Ssid0.checked=wanBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2];
			}else
			{
				document.tcpip.INPUT_Wlan2Ssid0.disabled=true;
			}
			
			if(mssid_disable[1][0]==0){
				if(availableBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2+1])
				{
					document.tcpip.INPUT_Wlan2Ssid1.checked=wanBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2+1];
				}else
				{
					document.tcpip.INPUT_Wlan2Ssid1.disabled=true;
				}
			}

			if(mssid_disable[1][1]==0){
				if(availableBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2+2])
				{
					document.tcpip.INPUT_Wlan2Ssid2.checked=wanBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2+2];
				}else
				{
					document.tcpip.INPUT_Wlan2Ssid2.disabled=true;
				}
			}
			
			if(mssid_disable[1][2]==0){
				if(availableBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2+3])
				{
					document.tcpip.INPUT_Wlan2Ssid3.checked=wanBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2+3];
				}else
				{
					document.tcpip.INPUT_Wlan2Ssid3.disabled=true;
				}
			}
			
			if(mssid_disable[1][3]==0){
				if(availableBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2+4])
				{
					document.tcpip.INPUT_Wlan2Ssid4.checked=wanBindPortArray[wanBindLanPortNum+wanBindWlanPortNum/2+4];
				}else
				{
					document.tcpip.INPUT_Wlan2Ssid4.disabled=true;
				}
			}
			if(wlanVxd_disable[1]==0){
			if(availableBindPortArray[wanBindLanPortNum+wanBindWlanPortNum-1])
			{
				document.tcpip.INPUT_Wlan2Vxd.checked=wanBindPortArray[wanBindLanPortNum+wanBindWlanPortNum-1];
			}else
			{
				document.tcpip.INPUT_Wlan2Vxd.disabled=true;
			}
		}
		}	
	}
	//for igmpproxy
	if ( <% getMultiWanIndex("enableIGMP"); %>)
	{
		document.tcpip.igmpproxyEnabled.checked = true;
<% getMultiWanIndex("onPhyIf_jscomment_start"); %>
		if(document.tcpip.linkType.value == 1)//pppoe
			document.tcpip.onPhysicalInterface.disabled = false;
		else
			document.tcpip.onPhysicalInterface.disabled = true;
<% getMultiWanIndex("onPhyIf_jscomment_end"); %>
	}
<% getMultiWanIndex("onPhyIf_jscomment_start"); %>
	else
	{
		document.tcpip.onPhysicalInterface.disabled = true
	}
	if ( <% getMultiWanIndex("onPhyIf"); %>)
		document.tcpip.onPhysicalInterface.checked = true;
<% getMultiWanIndex("onPhyIf_jscomment_end"); %>
	if ( <% getMultiWanIndex("upnpEnabled"); %> )
		document.tcpip.upnpEnabled.checked = true;
	<% getMultiWanIndex("setMainWan_jscomment_start");%>
		if(wanEnable)
			document.tcpip.setMainWan.disabled=false;
		else
			document.tcpip.setMainWan.disabled=true;
	if( <% getMultiWanIndex("setMainWan");%>)
		document.tcpip.setMainWan.checked = true;
	else
		document.tcpip.setMainWan.checked = false;	
	if( <% getMultiWanIndex("setNatEnable");%>)
		document.tcpip.natEnabled.checked = true;
	else
		document.tcpip.natEnabled.checked = false;
	if(document.tcpip.setMainWan.checked)
		document.tcpip.natEnabled.disabled=true;
	else
		document.tcpip.natEnabled.disabled=false;
		
	<% getMultiWanIndex("setMainWan_jscomment_end");%>
	//for mldproxy
	<% getMultiWanIndex("isp_mld_jscomment_start"); %>
	if(ipv6WanEnable)
		document.tcpip.ispMldProxyEnabled.disabled = false;
	else
		document.tcpip.ispMldProxyEnabled.disabled = true;
	<% getMultiWanIndex("isp_mld_jscomment_end"); %>
/*
	if (  <% getMultiWanIndex("wanDNS"); %> == 0) {
		document.tcpip.elements["dnsMode"][0].checked = true;
		autoDNSclicked();
	}
	
	if ( <% getMultiWanIndex("wanDNS"); %> == 1) {
		document.tcpip.elements["dnsMode"][1].checked = true;
		manualDNSclicked();
	}
	
	if ( <% getMultiWanIndex("ipv6Enabled"); %> ){
		if ( <% getIndex("pppv6Enabled"); %> )
			document.tcpip.pppv6Enabled.checked = true;
	}
	
	if ( <% getMultiWanIndex("upnpEnabled"); %> )
		document.tcpip.upnpEnabled.checked = true;

	if ( <% getMultiWanIndex("igmpproxyDisabled"); %> == 0 )
		document.tcpip.igmpproxyEnabled.checked = true;

	if ( <% getMultiWanIndex("mldproxyDisabled"); %> == 0 )
		document.tcpip.mldproxyEnabled.checked = true;
	
	if ( <% getMultiWanIndex("pingWanAccess"); %> )
		document.tcpip.pingWanAccess.checked = true;

	if ( <% getMultiWanIndex("webWanAccess"); %> )
		document.tcpip.webWanAccess.checked = true;

	if ( <% getMultiWanIndex("VPNPassThruIPsec"); %> )
		document.tcpip.WANPassThru1.checked = true;

	if ( <% getMultiWanIndex("VPNPassThruPPTP"); %> )
		document.tcpip.WANPassThru2.checked = true;

	if ( <% getMultiWanIndex("VPNPassThruL2TP"); %> )
		document.tcpip.WANPassThru3.checked = true;

	if ( <% getMultiWanIndex("ipv6passthrouh"); %> )
		document.tcpip.ipv6_passthru_enabled.checked = true;*/

}
</SCRIPT>
</head>

<body onload="Load_Setting();">
<blockquote>
<h2><font>WAN Interface Setup</font></h2>
<form action=/boafrm/formMultiWanTcpipSetup method=POST name="tcpip">

<table border=0 width="550" cellspacing=0 cellpadding=0>
  <tr><font size=2>
    This page is used to configure the parameters for Internet network which
    connects to the WAN port of your Access Point. Here you may change the access
    method to static IP, DHCP, PPPoE, Bridge by click the item value of WAN Access
    type.
  </tr>
  <tr><hr size=1 noshade align=top></tr>
  <tr>
</table>

 <input type="hidden" value="pptp" name="ipMode">
	<input type="hidden" name="lan_ip_address" value="<% getInfo("ip-rom"); %>">
	<input type="hidden" name="lan_subnet_mask" value="<% getInfo("mask-rom"); %>">
 <input type="hidden" name="pptpDynamicWanIP";  value=0>
 <input type="hidden" value="<% getIndex("lte4g_build"); %>" name="lte4g_build">
 <input type="hidden" value="<% getIndex("lte4g_enable"); %>" name="lte4g_enable">

 <table border="0" width=480>
<tr>
	<td>
	<input name="wan_enable" type="checkbox" onclick='wan_enable_select(this.checked);'><font size=3 >Enable WAN</font></b>
	</td>

 <% getMultiWanIndex("setMainWan_comment_start"); %>
   
      <td>&nbsp;&nbsp;
        <input type="checkbox" id="setMainWanId" onclick='main_wan_select(this.checked);' name="setMainWan" value="ON"><font size=3>Set as Main WAN &nbsp;</font></td>
    </tr>
    <% getMultiWanIndex("setMainWan_comment_end"); %>
 </table>
 <span id = "link_div" class = "off" >
  <table border="0" width=480>
  <h3><font color="#A8C006">LINK</font></h3>
	<tr>
	   <td width="30%" ><font size=2>
	   <div><b>Link Type:</b></div></td>
	   <td width="70%"><font size=2><select size="1" name="linkType" onChange="linkTypeSelection(this)">
	<option value="0">IPoE</option>
	<option value="1">PPPoE</option>
	</select></td>
	</tr>
  </table>
 </span>

 <span id = "service_div" class = "on" >
  <table border="0" width=480>
  <h3><font color="#A8C006">Service</font></h3>
	</select></td>
    </tr>
	<tr>
		<td width="30%" ><font size=2>
	    <div><b>Service Type :</b></div></td>
		<td width="70%"><font size=2><select size="1" id="serviceType" name="serviceType" onChange="serviceTypeSelection(this)">
		<script type="text/javascript">
			var is_hw_nat_wan= 0;
			if(is_main_wan_support)
				is_hw_nat_wan = hw_nat_enabled; //hw_nat enable status
			else
				(wan_idx == 0) ? is_hw_nat_wan = 1 : is_hw_nat_wan=0;//wan1 is hw_nat wan
			if(is_hw_nat_wan){
				document.write("<option value='2'>INTERNET</option>");
				document.write("<option value='64'>TR069_INTERNET</option>");
			}else{
				document.write("<option value='2'>INTERNET</option>");
				document.write("<option value='1'>TR069</option>");
				document.write("<option value='64'>TR069_INTERNET</option>");
				document.write("<option value='32'>TR069_Bridge</option>");
				document.write("<option value='16'>IPTV</option>");
				document.write("<option value='4'>OTHERS</option>");
			}	
		</script>
	</select></td>
	</tr>
  </table>
 </span>
 
	<span id = "port_binding_div" class = "off" >
     <table width=700 border="0" rules = "all">
	<h3><font color="#A8C006">Port Binding</font></h3>
	 <tr>
     <td width="20%" height="40" align="center" bgcolor='#C0C0C0'><font size=2><b>LAN Port:</b></td>
	 <td width="80%" bgcolor='#C0C0C0'>
	 <input type="checkbox" name="INPUT_LanPort1" > LAN1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	 <input type="checkbox" name="INPUT_LanPort2" > LAN2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	  <input type="checkbox" name="INPUT_LanPort3" > LAN3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	  <input type="checkbox" name="INPUT_LanPort4" > LAN4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
	 </tr>
	 
	 <script type="text/javascript">	 	
		if(wlanDisabled[0]==0){ 
			document.write("<tr><td width='20%' height='40' align='center' bgcolor='#C0C0C0'><font size=2><b>Wireless 1:</b></td>");
			document.write("<td width='80%' bgcolor='#C0C0C0'>");
			document.write("<input type='checkbox' name='INPUT_Wlan1Ssid0'>Primary AP  ");			
						
			if(mssid_disable[0][0]==0)
				document.write("<input type='checkbox' name='INPUT_Wlan1Ssid1'>Virtual AP 1 ");

			if(mssid_disable[0][1]==0)
				document.write("<input type='checkbox' name='INPUT_Wlan1Ssid2'>Virtual AP 2 ");

			if(mssid_disable[0][2]==0)
				document.write("<input type='checkbox' name='INPUT_Wlan1Ssid3'>Virtual AP 3 ");
			
			if(mssid_disable[0][3]==0)
				document.write("<input type='checkbox' name='INPUT_Wlan1Ssid4'>Virtual AP 4 ");
			if(wlanVxd_disable[0]==0)
				document.write("<input type='checkbox' name='INPUT_Wlan1Vxd'>Wlan Repeater ");
			document.write("</td></tr>");
  		}	 
		if(wlan_num>1)
		{			
			if(wlanDisabled[1]==0){
				document.write("<tr><td width='20%' height='40' align='center' bgcolor='#C0C0C0'><font size=2><b>Wireless 2:</b></td>");
				document.write("<td width='80%' bgcolor='#C0C0C0'>");				
				document.write("<input type='checkbox' name='INPUT_Wlan2Ssid0'>Primary AP ");

				if(mssid_disable[1][0]==0)
					document.write("<input type='checkbox' name='INPUT_Wlan2Ssid1'>Virtual AP 1 ");

				if(mssid_disable[1][1]==0)
					document.write("<input type='checkbox' name='INPUT_Wlan2Ssid2'>Virtual AP 2 ");

				if(mssid_disable[1][2]==0)
					document.write("<input type='checkbox' name='INPUT_Wlan2Ssid3'>Virtual AP 3 ");	

				if(mssid_disable[1][3]==0)
					document.write("<input type='checkbox' name='INPUT_Wlan2Ssid4'>Virtual AP 4 ");
				if(wlanVxd_disable[1]==0)
				document.write("<input type='checkbox' name='INPUT_Wlan2Vxd'>Wlan Repeater ");
			}			
		}
	 </script>
    </table>
    </span>
	
	<span id = "vlan_div" class = "on" >
    <table border="0" width=480>
	<h3><font color="#A8C006">Vlan</font></h3>
	<tr>
	  <td width="20%">  
	    
	      <div>
	        <input name="checkbox_vlanEnable" type="checkbox" id="INPUT_VlanEnable"  onClick="onclkVlanEnable()" />
          </div></td>
	  <td width="37%"><font size =2><b>&nbsp;Enable VLAN Tagging</b></font></td>
	 </tr>
	 <tr>
	 <td width="20%"><font size=2>
	   <div><b>Vlan ID:</b></div></td>
	 <td><input type="text" name="INPUT_VlanId"></td>
	 <td width="43%"><font size=2>(1 - 4094)</td>
	 <tr>
	  <tr>
	 <td width="20%"><font size=2>
	   <div><b>Priority :</b></div></td>
	 <td><input type="text"  name="INPUT_vlan_priority"></td>
	 <td width="43%"><font size=2>(0 - 7)</td>
	 <tr>
    </table>
    </span>

	<span id = "other_div" class = "off">
    <table border="0" width=480>
	<h3><font color="#A8C006">Others</font></h3>
    <tr> 
       <td width="30%"><font size=2><b>Clone MAC Address:</b></td>
       <td width="70%"><font size=2><input type="text" name="wan_macAddr" size="18" maxlength="12" value=<% getMultiWanIndex("wanMac"); %>></td>
    </tr>
    <tr>
      <td width="100%" colspan="2"><font size=2>
        <b><input type="checkbox" id="upnpEnabledId" name="upnpEnabled" value="ON">&nbsp;&nbsp;Enable UPNP</b></td>
    </tr>
    <% getMultiWanIndex("setMainWan_comment_start"); %>
    <tr>
      <td width="100%" colspan="2"><font size=2>
        <b><input type="checkbox" id="natEnabledId" name="natEnabled" value="ON">&nbsp;&nbsp;Enable NAT</b></td>
    </tr>
    <% getMultiWanIndex("setMainWan_comment_end"); %>
   </table>
	</span>
	
  <span id = "pppoe_div" class = "off" >  
  <table border="0" width=480>
  <h3><font color="#A8C006">PPPOE</font></h3>
     <tr>
      <td width="30%"><font size=2><b>User Name:</b></td>
      <td width="70%"><font size=2><input type="text" name="pppUserName" size="18" maxlength="128" value="<% getMultiWanIndex("pppUserName"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Password:</b></td>
      <td width="70%"><font size=2><input type="password" name="pppPassword" size="18" maxlength="128" value="<% getMultiWanIndex("pppPassword"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Service Name:</b></td>
      <td width="70%"><font size=2><input type="text" name="pppServiceName" size="18" maxlength="40" value="<% getMultiWanIndex("pppServiceName"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>AC Name:</b></td>
      <td width="70%"><font size=2><input type="text" name="pppAcName" size="18" maxlength="40" value="<% getMultiWanIndex("pppAcName"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Connection Type:</b></td>
      <td width="70%"><font size=2><select size="1" name="pppConnectType" onChange="pppTypeSelection(0)">
<script type="text/javascript">
        var type = <% getMultiWanIndex("pppConnectType"); %>;
	     	if ( type == 0 ) {
	      	  	document.write( "<option selected value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 1 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option selected value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 2 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option selected value=\"2\">Manual</option>" );
	     	}
</script>
        </select>&nbsp;&nbsp;
	<input type="submit" value="Connect" name="pppConnect" onClick="return pppConnectClick(0)">&nbsp;&nbsp;
	<input type="submit" value="Disconnect" name="pppDisconnect" onClick="return pppConnectClick(1)">
<script type="text/javascript">
	if ( <% getMultiWanIndex("pppConnectStatus"); %> )
		setPPPConnected();
</script>
	</td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Idle Time:</b></td>
      <td width="70%"><font size=2><input type="text" name="pppIdleTime" size="10" maxlength="10" value="<% getMultiWanIndex("wan-ppp-idle"); %>">&nbsp;(1-1000 minutes)</td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>MTU Size:</b></td>
      <td width="70%"><font size=2><input type="text" name="pppMtuSize" size="10" maxlength="10" value="<% getMultiWanIndex("pppMtuSize"); %>">&nbsp;(1360-1492 bytes)</td>
    </tr>    
  </table>
  </span>
 <!-- end of pppoe --> 
     <span id = "bridge_div" class = "off">   
	 <table border="0" width=480>
    <!-- add bridge device show -->
    </table>
	 </span> 

	<table border=0 width="550" cellspacing=0 cellpadding=0>
	  <tr><font size=2>
	  </tr>
	  <tr><hr size=1 noshade align=top></tr>
	  <tr>
	</table>
	<tr>
 
  <table border="0" width=480>
  <h3><font color="#A8C006">WAN</font></h3>
    <tr>
       <td width="30%" ><font size=2>
        <div><b>WAN Access Type:</b></div></td>
       <td width="70%"><font size=2><select id="wanType" size="1" name="wanType" onChange="wanTypeSelection(this)">
       <!--
       		<script type="text/javascript">
        	  		serviceTypeSelection();
        		</script>
        	-->
		</select></td>
	</tr>
  </table>
  <span id = "static_div" class = "off" >  
  <table border="0" width=480>
<h3><font color="#A8C006">STATIC_IP</font></h3>
    <tr>
       <td width="30%"><font size=2><b>IP Address:</b></td>
       <td width="70%"><font size=2>
        <input type="text" name="wan_ip" size="18" maxlength="15" value="<% getMultiWanIndex("wan-ip-rom"); %>">
      </td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Subnet Mask:</b></td>
      <td width="70%"><font size=2><input type="text" name="wan_mask" size="18" maxlength="15" value="<% getMultiWanIndex("wan-mask-rom"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Default Gateway:</b></td>
      <td width="70%"><font size=2><input type="text" name="wan_gateway" size="18" maxlength="15" value="<% getMultiWanIndex("wan-gateway-rom"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>MTU Size:</b></td>
      <td width="70%"><font size=2><input type="text" name="fixedIpMtuSize" size="10" maxlength="10" value="<% getMultiWanIndex("fixedIpMtuSize"); %>">&nbsp;(1400-1500 bytes)</td>
    </tr>
  </table>  
  </span>
  
  <span id = "dhcp_div" class = "off" >  
  <table border="0" width=480>
  <h3><font color="#A8C006">DHCP</font></h3>
    <tr>
      <td width="30%"><font size=2><b>Host Name:</b></td>
      <td width="70%"><font size=2><input type="text" name="hostName" size="18" maxlength="30" value="<% getMultiWanIndex("hostName"); %>"></td>
    </tr>  
    <tr>
      <td width="30%"><font size=2><b>MTU Size:</b></td>
      <td width="70%"><font size=2><input type="text" name="dhcpMtuSize" size="10" maxlength="10" value="<% getMultiWanIndex("dhcpMtuSize"); %>">&nbsp;(1280-1500 bytes)</td>
    </tr>
  </table>  
  </span>

  <!-- add pptp device show -->
<% getInfo("vpn_start");%>
  <span id = "pptp_div" class = "off" >  
  <table border="0" width=480>
    <tr>
      <td width="30%"><font size=2><b>IP Address:</b></td>
      <td width="70%"><font size=2><input type="text" name="pptpIpAddr" size="18" maxlength="30" value="<% getMultiWanIndex("pptpIp"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Subnet Mask:</b></td>
      <td width="70%"><font size=2><input type="text" name="pptpSubnetMask" size="18" maxlength="30" value="<% getMultiWanIndex("pptpSubnet"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Default Gateway:</b></td>
      <td width="70%"><font size=2><input type="text" name="pptpDefGw" size="18" maxlength="30" value="<% getMultiWanIndex("pptpDefGw"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Server IP Address:</b></td>
      <td width="70%"><font size=2><input type="text" name="pptpServerIpAddr" size="18" maxlength="30" value="<% getMultiWanIndex("pptpServerIp"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>User Name:</b></td>
      <td width="70%"><font size=2><input type="text" name="pptpUserName" size="18" maxlength="128" value="<% getMultiWanIndex("pptpUserName"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Password:</b></td>
      <td width="70%"><font size=2><input type="password" name="pptpPassword" size="18" maxlength="128" value="<% getMultiWanIndex("pptpPassword"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Connection Type:</b></td>
      <td width="70%"><font size=2><select size="1" name="pptpConnectType" onChange="pppTypeSelection(1)">
<script type="text/javascript">
        var type = <% getMultiWanIndex("pptpConnectType"); %>;
	     	if ( type == 0 ) {
	      	  	document.write("<option selected value=\"0\">Continuous</option>" );
    	   	  	document.write("<option value=\"1\">Connect on Demand</option>" );
    		  	document.write("<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 1 ) {
	      	  	document.write("<option value=\"0\">Continuous</option>");
    	   	  	document.write("<option selected value=\"1\">Connect on Demand</option>");
    		  	document.write("<option value=\"2\">Manual</option>");
	     	}
	     	if ( type == 2 ) {
	      	  	document.write("<option value=\"0\">Continuous</option>");
    	   	  	document.write("<option value=\"1\">Connect on Demand</option>");
    		  	document.write("<option selected value=\"2\">Manual</option>");
	     	}
</script>
        </select>&nbsp;&nbsp;
	<input type="submit" value="Connect" name="pptpConnect" onClick="return pptpConnectClick(0)">&nbsp;&nbsp;
	<input type="submit" value="Disconnect" name="pptpDisconnect" onClick="return pptpConnectClick(1)">
<script type="text/javascript">
	if ( <% getMultiWanIndex("pptpConnectStatus"); %> )
		setPPPConnected();
</script>
	</td>
    </tr>   

    <tr>
      <td width="30%"><font size=2><b>Idle Time:</b></td>
      <td width="70%"><font size=2><input type="text" name="pptpIdleTime" size="10" maxlength="10" value="<% getMultiWanIndex("pptpIdleTime"); %>">&nbsp;(1-1000 minutes)</td>
    </tr>  
     <tr>
      <td width="30%"><font size=2><b>MTU Size:</b></td>
      <td width="70%"><font size=2><input type="text" name="pptpMtuSize" size="10" maxlength="10" value="<% getMultiWanIndex("pptpMtuSize"); %>">&nbsp;(1400-1460 bytes)</td>
    </tr>   
    
	<tr>
      <td width="100%" colspan="2"><font size=2>
        <b>
        <input type="checkbox" name="pptpSecurity" value="ON">&nbsp;&nbsp;Request MPPE Encryption&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="checkbox" name="pptpCompress" value="ON">&nbsp;&nbsp;Request MPPC Compression
        </b>
      </td>       
    </tr>
    <tr></tr><tr></tr><tr></tr>
    </table>
    </span>

<% getInfo("vpn_end");%>

    <!-- keith: add l2tp support. 20080515  -->

<% getInfo("vpn_start");%>

    <span id = "l2tp_div" class = "off" >  
    <table border="0" width=480>
    <tr>
      <td width="30%"><font size=2><b>IP Address:</b></td>
      <td width="70%"><font size=2><input type="text" name="l2tpIpAddr" size="18" maxlength="30" value="<% getMultiWanIndex("l2tpIp"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Subnet Mask:</b></td>
      <td width="70%"><font size=2><input type="text" name="l2tpSubnetMask" size="18" maxlength="30" value="<% getMultiWanIndex("l2tpSubnet"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Default Gateway:</b></td>
      <td width="70%"><font size=2><input type="text" name="l2tpDefGw" size="18" maxlength="30" value="<% getMultiWanIndex("l2tpDefGw"); %>"></td>
    </tr>   
    <tr>
      <td width="30%"><font size=2><b>Server IP Address:</b></td>
      <td width="70%"><font size=2><input type="text" name="l2tpServerIpAddr" size="18" maxlength="30" value="<% getMultiWanIndex("l2tpServerIp"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>User Name:</b></td>
      <td width="70%"><font size=2><input type="text" name="l2tpUserName" size="18" maxlength="128" value="<% getMultiWanIndex("l2tpUserName"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Password:</b></td>
      <td width="70%"><font size=2><input type="password" name="l2tpPassword" size="18" maxlength="128" value="<% getMultiWanIndex("l2tpPassword"); %>"></td>
    </tr>
     <tr>
      <td width="30%"><font size=2><b>Connection Type:</b></td>
      <td width="70%"><font size=2><select size="1" name="l2tpConnectType" onChange="pppTypeSelection(2)">
<script type="text/javascript">
        var type = <% getMultiWanIndex("l2tpConnectType"); %>;
	     	if ( type == 0 ) {
	      	  	document.write( "<option selected value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 1 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option selected value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option value=\"2\">Manual</option>" );
	     	}
	     	if ( type == 2 ) {
	      	  	document.write( "<option value=\"0\">Continuous</option>" );
    	   	  	document.write( "<option value=\"1\">Connect on Demand</option>" );
    		  	document.write( "<option selected value=\"2\">Manual</option>" );
	     	}
</script>
        </select>&nbsp;&nbsp;
	<input type="submit" value="Connect" name="l2tpConnect" onClick="return l2tpConnectClick(0)">&nbsp;&nbsp;
	<input type="submit" value="Disconnect" name="l2tpDisconnect" onClick="return l2tpConnectClick(1)">
<script type="text/javascript">
	if ( <% getMultiWanIndex("l2tpConnectStatus"); %> )
		setPPPConnected();
</script>
	</td>
    </tr>   
      <tr>
      <td width="30%"><font size=2><b>Idle Time:</b></td>
      <td width="70%"><font size=2><input type="text" name="l2tpIdleTime" size="10" maxlength="10" value="<% getMultiWanIndex("l2tpIdleTime"); %>">&nbsp;(1-1000 minutes)</td>
    </tr>  
     <tr>
      <td width="30%"><font size=2><b>MTU Size:</b></td>
      <td width="70%"><font size=2><input type="text" name="l2tpMtuSize" size="10" maxlength="10" value="<% getMultiWanIndex("l2tpMtuSize"); %>">&nbsp;(1400-1460 bytes)</td>
    </tr>  
    <tr></tr><tr></tr><tr></tr>
    </table>
    </span>
<% getInfo("vpn_end");%>
    
<!-- start USB3G -->
   <span id = "USB3G_div" class = "off" >
    <table border="0" width=480>
      <td width="30%"><font size=2><b>User Name:</b></td>
      <td width="70%"><font size=2><input type="text" name="USB3G_USER" size="18" maxlength="30" value="<% getInfo("USB3G_USER"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Password:</b></td>
      <td width="70%"><font size=2><input type="password" name="USB3G_PASS" size="18" maxlength="30" value="<% getInfo("USB3G_PASS"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>PIN:</b></td>
      <td width="70%"><font size=2><input type="password" name="USB3G_PIN" size="18" maxlength="30" value="<% getInfo("USB3G_PIN"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>APN:</b></td>
      <td width="70%"><font size=2><input type="text" name="USB3G_APN" size="18" maxlength="128" value="<% getInfo("USB3G_APN"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Dial Number:</b></td>
      <td width="70%"><font size=2><input type="text" name="USB3G_DIALNUM" size="18" maxlength="128" value="<% getInfo("USB3G_DIALNUM"); %>"></td>
    </tr>
     <tr>
      <td width="30%"><font size=2><b>Connection Type:</b></td>
      <td width="70%"><font size=2><select size="1" name="USB3GConnectType" onChange="pppTypeSelection(3)">
<% getInfo("usb3g_comment_start");%>
<script type="text/javascript">
        var type = <% getIndex("USB3GConnectType"); %>;
            if ( type == 0 ) {
                document.write( "<option selected value=\"0\">Continuous</option>" );
                document.write( "<option value=\"1\">Connect on Demand</option>" );
                document.write( "<option value=\"2\">Manual</option>" );
            }
            if ( type == 1 ) {
                document.write( "<option value=\"0\">Continuous</option>" );
                document.write( "<option selected value=\"1\">Connect on Demand</option>" );
                document.write( "<option value=\"2\">Manual</option>" );
            }
            if ( type == 2 ) {
                document.write( "<option value=\"0\">Continuous</option>" );
                document.write( "<option value=\"1\">Connect on Demand</option>" );
                document.write( "<option selected value=\"2\">Manual</option>" );
            }
</script>
<% getInfo("usb3g_comment_end");%>
        </select>&nbsp;&nbsp;
    <input type="submit" value="Connect" name="USB3GConnect" onClick="return USB3GConnectClick(0)">&nbsp;&nbsp;
    <input type="submit" value="Disconnect" name="USB3GDisconnect" onClick="return USB3GConnectClick(1)">
<script type="text/javascript">
	if ( <% getIndex("pppConnectStatus"); %> )
		setPPPConnected();
</script>
    </td>
    </tr>
      <tr>
      <td width="30%"><font size=2><b>Idle Time:</b></td>
      <td width="70%"><font size=2><input type="text" name="USB3GIdleTime" size="10" maxlength="10" value="<% getInfo("wan-USB3G-idle"); %>">&nbsp;(1-1000 minutes)</td>
    </tr>
     <tr>
      <td width="30%"><font size=2><b>MTU Size:</b></td>
      <td width="70%"><font size=2><input type="text" name="USB3GMtuSize" size="10" maxlength="10" value="<% getInfo("USB3GMtuSize"); %>">&nbsp;(1420-1490 bytes)</td>
    </tr>
    <tr></tr><tr></tr><tr></tr>
    </table>
    </span>    
  <!-- <span id = "dnsMode_div" class = "off" >
    <table border="0" width=480>
	<h3><font color="#0000FF">DNS Mode</font></h3>
    
    <tr>
      <td width="100%" colspan="2"><font size=2>
		<b><input type="radio" value="dnsAuto" name="dnsMode" onClick="autoDNSclicked()">Attain DNS Automatically</b>
      </td>
    </tr>
    <tr>
      <td width="100%" colspan="2"><font size=2>
        <b><input type="radio" value="dnsManual" name="dnsMode" onClick="manualDNSclicked()">Set DNS Manually</b>
      </td>
    </tr>
    <tr>
    </table>
    </span>-->
    
    <span id = "dns_div" class = "off" >
    <table border="0" width=480>
	<h3><font color="#A8C006">DNS setting</font></h3>

	<tr>
      <td width="100%" colspan="2"><font size=2>
		<b><input type="radio" value="dnsAuto" name="dnsMode" onClick="autoDNSclicked()">Attain DNS Automatically</b>
      </td>
    </tr>
    <tr>
      <td width="100%" colspan="2"><font size=2>
        <b><input type="radio" value="dnsManual" name="dnsMode" onClick="manualDNSclicked()">Set DNS Manually</b>
      </td>
    </tr>
    
	<tr>
       <td width="30%"><font size=2><b>&nbsp;&nbsp;&nbsp;DNS 1:</b></td>
       <td width="70%"><font size=2><input type="text" name="dns1" size="18" maxlength="15" value=<% getMultiWanIndex("wan-dns1"); %>></td>
    </tr>
    <tr>
       <td width="30%"><font size=2><b>&nbsp;&nbsp;&nbsp;DNS 2:</b></td>
       <td width="70%"><font size=2><input type="text" name="dns2" size="18" maxlength="15" value=<% getMultiWanIndex("wan-dns2"); %>></td>
    </tr>
    <tr>
       <td width="30%"><font size=2><b>&nbsp;&nbsp;&nbsp;DNS 3:</b></td>
       <td width="70%"><font size=2><input type="text" name="dns3" size="18" maxlength="15" value=<% getMultiWanIndex("wan-dns3"); %>></td>
    </tr>
    </table>
    </span>

	<span id = "igmp_div" class = "off">
    <table border="0" width=480>
    <tr>
      <td width="100%" colspan="2"><font size=2>
        <b><input type="checkbox" id="igmpproxyEnabledId" name="igmpproxyEnabled" onClick = "onclkIgmpproxyEnable()" value="ON">&nbsp;&nbsp;Enable IGMP Proxy</b></td>
    </tr>
<% getMultiWanIndex("onPhyIf_comment_start"); %>
	<tr>
      <td width="100%" colspan="2"><font size=2>
      	<b><input type="checkbox" id="onPhysicalInterfaceId" name="onPhysicalInterface" value="ON">&nbsp;&nbsp;IGMP Proxy On Physical Interface</b></td>
    </tr>
<% getMultiWanIndex("onPhyIf_comment_end"); %> 
   	</table>
	</span>

<% getMultiWanIndex("ipv6_comment_start"); %>	
	<table border=0 width="550" cellspacing=0 cellpadding=0>
	  <tr><font size=2>
	  </tr>
	  <tr><hr size=1 noshade align=top></tr>
	</tr>
		<td>
		<input name="ipv6wan_enable" type="checkbox" onclick='ipv6wan_enable_select();'><font size=3 >Enable IPv6 WAN</font></b>
		</td>
	</tr>
	  <tr>
	</table>
	<tr>
<% getMultiWanIndex("ipv6_comment_end"); %>
	
	<span id = "ipv6wan_div" class = "off" >
	<table border="0" width=480>
	<h3><font color="#A8C006">Ipv6 WAN</font></h3>
	<tr>
	   <td width="40%" ><font size=2>
	    <div><b>Ipv6 WAN Access Type:</b></div></td>
	<td width="60%"><font size=2><select size="1" name="ipv6WanType" onChange="ipv6wanTypeSelection(this)">
	<option value="0">Auto</option>
	<option value="1">Static</option>
	<option value="2">Slaac</option>
	<option value="3">DHCPv6 Client</option>
<% getMultiWanIndex("dslite_comment_start"); %>
	<option value="4">Dslite</option>
<% getMultiWanIndex("dslite_comment_end"); %>
	<option value="5">Ipv6 Bridge</option>
<% getMultiWanIndex("6rd_comment_start"); %>
	<option value="6">IPv6rd</option>
<% getMultiWanIndex("6rd_comment_end"); %>	
	</select></td>
	</tr>
	</table>
	</span>

	<span id = "dslite_div" class = "off" >  
  	<table cellSpacing=1 cellPadding=2 border=0>
	<h3><font color="#A8C006">DSLITE</font></h3>
    <tr>
      <td width="100%" colspan="2"><font size=2>
		<b><input type="radio" value="dsliteAuto" name="dsliteMode" onClick="autoDsliteclicked();">Attain AFTR Automatically</b>
      </td>
    </tr>
    <tr>
      <td width="100%" colspan="2"><font size=2>
        <b><input type="radio" value="dsliteManual" name="dsliteMode" onClick="manualDsliteclicked();">Set AFTR Manually</b>
      </td>
    </tr>
    <tr>
    </table>

  	<table cellSpacing=1 cellPadding=2 border=0>
    <tr>
       <td ><font size=2><b>AFTR IPv6 Address:</b></td>
	   <td >Prefix Length</td>
	 </tr>
	 <tr>
       <td >
        <input type="text" name="wan_aftr_0" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_0"); %>">:
		<input type="text" name="wan_aftr_1" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_1"); %>">:
		<input type="text" name="wan_aftr_2" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_2"); %>">:
		<input type="text" name="wan_aftr_3" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_3"); %>">:
		<input type="text" name="wan_aftr_4" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_4"); %>">:
		<input type="text" name="wan_aftr_5" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_5"); %>">:
		<input type="text" name="wan_aftr_6" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_6"); %>">:
		<input type="text" name="wan_aftr_7" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_7"); %>">
      </td>
	  <td >
		<input type=text name=prefix_len_aftr size=4 maxlength=4 enable value= <% getMultiWanIndex("wan_dsliteAftr_prefixLen"); %>>
	  </td>
    </tr>
<!--
	 <tr>
       <td bgColor=#ddeeff>
        	<input type="text" name="wan_aftr_0" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_0"); %>">:
		<input type="text" name="wan_aftr_1" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_1"); %>">:
		<input type="text" name="wan_aftr_2" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_2"); %>">:
		<input type="text" name="wan_aftr_3" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_3"); %>">:
		<input type="text" name="wan_aftr_4" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_4"); %>">:
		<input type="text" name="wan_aftr_5" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_5"); %>">:
		<input type="text" name="wan_aftr_6" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_6"); %>">:
		<input type="text" name="wan_aftr_7" size="4" maxlength="4" value="<% getMultiWanIndex("wan_dsliteAftr_7"); %>">
      </td>
	  <td bgColor=#ddeeff>
		<input type=text name=prefix_len_aftr size=4 maxlength=4 enable value=<% getMultiWanIndex("wan_dsliteAftr_prefixLen"); %>>
	  </td>
    </tr>
  -->
 <!--
      <td width="70%"><font size=2><input type="text" name="dsliteAftrIpAddr6" size="40" maxlength="40" value="0000:0000:0000:0000:0000:0000:0000:0000"></td>
      <td width="70%"><font size=2><input type="text" name="dsliteAftrIpAddr6" size="40" maxlength="40" value="<% getMultiWanIndex("dsliteAftr"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>WAN IPv6 Address:</b></td>
      <td width="70%"><font size=2><input type="text" name="dsliteWanIpAddr6" size="40" maxlength="40"  value="0000:0000:0000:0000:0000:0000:0000:0000"></td>
       <td width="70%"><font size=2><input type="text" name="dsliteWanIpAddr6" size="40" maxlength="40"  value="<% getMultiWanIndex("ipv6WanIp"); %>"></td>
    </tr>
    <tr>
      <td width="30%"><font size=2><b>Default Gateway:</b></td>
      <td width="70%"><font size=2><input type="text" name="dsliteDefGw" size="40" maxlength="40"  value="0000:0000:0000:0000:0000:0000:0000:0000"></td>
      <td width="70%"><font size=2><input type="text" name="dsliteDefGw" size="40" maxlength="40"  value="<% getMultiWanIndex("ipv6DefGW"); %>"></td>
    </tr>
  -->
    </table>
    </span>

	<span id = "ipv6static_div" class = "off" >
  	<table cellSpacing=1 cellPadding=2 border=0>
	<h3><font color="#A8C006">IPv6 Static</font></h3>
    <tr>
       <td ><font size=2><b>IPv6 Address:</b></td>
	   <td >Prefix Length</td>
	 </tr>
	 <tr>
       <td >
        <input type="text" name="wan_ip_0" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Addr_0"); %>">:
		<input type="text" name="wan_ip_1" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Addr_1"); %>">:
		<input type="text" name="wan_ip_2" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Addr_2"); %>">:
		<input type="text" name="wan_ip_3" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Addr_3"); %>">:
		<input type="text" name="wan_ip_4" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Addr_4"); %>">:
		<input type="text" name="wan_ip_5" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Addr_5"); %>">:
		<input type="text" name="wan_ip_6" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Addr_6"); %>">:
		<input type="text" name="wan_ip_7" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Addr_7"); %>">

      </td>
	  <td >
		<input type=text name=prefix_len_ip size=4 maxlength=4 enable value=<% getMultiWanIndex("wan_ipv6Addr_prefixLen"); %>>
	  </td>
    </tr>
	<tr>
      <td ><font size=2><b>Default Gateway:</b></td>
	   <td >Prefix Length</td>      
	</tr>
	  <tr>
      <td >
  	    <input type="text" name="wan_gw_0" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Gw_0"); %>">:
		<input type="text" name="wan_gw_1" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Gw_1"); %>">:
		<input type="text" name="wan_gw_2" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Gw_2"); %>">:
		<input type="text" name="wan_gw_3" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Gw_3"); %>">:
		<input type="text" name="wan_gw_4" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Gw_4"); %>">:
		<input type="text" name="wan_gw_5" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Gw_5"); %>">:
		<input type="text" name="wan_gw_6" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Gw_6"); %>">:
		<input type="text" name="wan_gw_7" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Gw_7"); %>">	
      </td>
	  <td >
		<input type=text name=prefix_len_gw size=4 maxlength=4 enable value=<% getMultiWanIndex("wan_ipv6Gw_prefixLen"); %>>
	  </td>
    </tr>
	</table>
	</span>
	
	<span id = "ipv6dhcp_div" class = "off" >  
  	<table cellSpacing=1 cellPadding=2 border=0>
	<h3><font color="#A8C006">DHCPv6</font></h3>
    <tr>
    	<td ><font size=2><b>DUID:<b></td>
    	<td width="70%"><font size=2><input readonly="value" type="text" name="duid" size="22" maxlength="12" value=00030001<%getMultiWanIndex("wanMac"); %>></td>
    	</td>
    </tr>
    <tr>
		<td ><font size=2><b>Request ipv6 addr:<b></td><td >
		<input type=checkbox name="dhcpv6Addr" size=32 maxlength=32 
		value="on"	></td>
	</tr>
	<tr>
		<td ><font size=2><b>Request pd:<b></td><td >
		<input type=checkbox name="dhcpv6Pd" size=32 maxlength=32 
		value="on"	></td>
	</tr>
	<tr>
		<td ><font size=2><b>Rapid-commit Enable:<b></td><td >
		<input type=checkbox name="rapidEnable" size=32 maxlength=32 
		value="on"	></td>
	</tr>
	</table>
	</span>

	<span id = "ipv6rd_div" class = "off" >  
  	<table cellSpacing=1 cellPadding=2 border=0>
	<h3><font color="#A8C006">IPv6RD</font></h3>
    </table>

  	<table cellSpacing=1 cellPadding=2 border=0>
    <tr>
       <td ><font size=2><b>6RD IPv6 Prefix:</b></td>
	   <td >Prefix Length</td>
	 </tr>
	 <tr>
       <td >
        <input type="text" name="IPv6_6rd_ip_0" size="4" maxlength="4" value="<% getMultiWanIndex("6rd_ipv6Addr_0"); %>">:
		<input type="text" name="IPv6_6rd_ip_1" size="4" maxlength="4" value="<% getMultiWanIndex("6rd_ipv6Addr_1"); %>">:
		<input type="text" name="IPv6_6rd_ip_2" size="4" maxlength="4" value="<% getMultiWanIndex("6rd_ipv6Addr_2"); %>">:
		<input type="text" name="IPv6_6rd_ip_3" size="4" maxlength="4" value="<% getMultiWanIndex("6rd_ipv6Addr_3"); %>">:
		<input type="text" name="IPv6_6rd_ip_4" size="4" maxlength="4" value="<% getMultiWanIndex("6rd_ipv6Addr_4"); %>">:
		<input type="text" name="IPv6_6rd_ip_5" size="4" maxlength="4" value="<% getMultiWanIndex("6rd_ipv6Addr_5"); %>">:
		<input type="text" name="IPv6_6rd_ip_6" size="4" maxlength="4" value="<% getMultiWanIndex("6rd_ipv6Addr_6"); %>">:
		<input type="text" name="IPv6_6rd_ip_7" size="4" maxlength="4" value="<% getMultiWanIndex("6rd_ipv6Addr_7"); %>">
      </td>
	  <td >
		<input type=text name=prefix_len_6rd size=4 maxlength=4 enable value= <% getMultiWanIndex("6rd_ipv6Addr_prefixLen"); %>>
	  </td>
    </tr>
	<tr>
		<td ><font size=2><b>IPv4 Address:</b></td>
		<td >Mask Length</td>
	</tr>
	<tr>
		<td >
		<input type="text" name="wanIP" size="18" maxlength="15" disabled="disabled" value="<% getMultiWanIndex("6rd_wan_ip"); %>">
		</td>
		<td >
		<input type=text name="wanMask" size=4 maxlength=4 enable value="<% getMultiWanIndex("6rd_ipv4Addr_netMask"); %>">
		</td>
	</tr>
	<tr>
		<td ><font size=2><b>6RD Border Relay IPv4 Address:</b></td>
	</tr>
	<tr>
		<td >
		<input type="text" name="IPv6_6rd_BR_IP" size="18" maxlength="15" value=<% getMultiWanIndex("6rd_BR_IP"); %>>
		</td>
	</tr>    
    </table>
    </span>

    <span id = "ipv6dns_div" class = "off" >
	<table cellSpacing=1 cellPadding=2 border=0>
	<h3><font color="#A8C006">Ipv6 DNS Setting</font></h3>
    <tr>
<!--
	<input type="hidden" name="ipv6dnsType">
      <td width="100%" colspan="2"><font size=2>
		<b><input type="radio" value="dnsAuto" name="ipv6dnsMode" onClick="ipv6autoDNSclicked()">Attain Ipv6 DNS Automatically</b>
      </td>
    </tr>
    <tr>
      <td width="100%" colspan="2"><font size=2>
        <b><input type="radio" value="dnsManual" name="ipv6dnsMode" onClick="ipv6manualDNSclicked()">Set Ipv6 DNS Manually</b>
      </td>
    </tr>
 -->
    </table>
    
    <table cellSpacing=1 cellPadding=2 border=0>
	<tr>
      <td ><font size=2><b>Primary DNS:</b></td>
	  <td >Prefix Length</td>
	 </tr>
	  <tr>
      <td >
        <input type="text" name="wan_dns1_0" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns1_0"); %>">:
		<input type="text" name="wan_dns1_1" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns1_1"); %>">:
		<input type="text" name="wan_dns1_2" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns1_2"); %>">:
		<input type="text" name="wan_dns1_3" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns1_3"); %>">:
		<input type="text" name="wan_dns1_4" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns1_4"); %>">:
		<input type="text" name="wan_dns1_5" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns1_5"); %>">:
		<input type="text" name="wan_dns1_6" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns1_6"); %>">:
		<input type="text" name="wan_dns1_7" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns1_7"); %>">		
      </td>
	  <td >
		<input type=text name=prefix_len_dns1 size=4 maxlength=4 enable value=<% getMultiWanIndex("wan_ipv6Dns1_prefixLen"); %>>
	  </td>
    </tr>
	<tr>
      <td ><font size=2><b>Secondary DNS:</b></td>
	  <td >Prefix Length</td>
	 </tr>
	  <tr>
      <td >
        <input type="text" name="wan_dns2_0" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns2_0"); %>">:
		<input type="text" name="wan_dns2_1" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns2_1"); %>">:
		<input type="text" name="wan_dns2_2" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns2_2"); %>">:
		<input type="text" name="wan_dns2_3" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns2_3"); %>">:
		<input type="text" name="wan_dns2_4" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns2_4"); %>">:
		<input type="text" name="wan_dns2_5" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns2_5"); %>">:
		<input type="text" name="wan_dns2_6" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns2_6"); %>">:
		<input type="text" name="wan_dns2_7" size="4" maxlength="4" value="<% getMultiWanIndex("wan_ipv6Dns2_7"); %>">		
      </td>
	  <td >
		<input type=text name=prefix_len_dns2 size=4 maxlength=4 enable value=<% getMultiWanIndex("wan_ipv6Dns2_prefixLen"); %>>
	  </td>     
    </tr>
    </table>
    </span>      

    <% getMultiWanIndex("isp_mld_comment_start"); %>
	<span id = "mld_div" class = "off">
    <table border="0" width=480>
	<tr>
      <td width="100%" colspan="2"><font size=2>
      	<b><input type="checkbox" id="mldproxyEnableId" name="ispMldProxyEnabled"  value="ON">&nbsp;&nbsp;Enable MLD Proxy</b></td>
    </tr>
   	</table>
	</span>
	<% getMultiWanIndex("isp_mld_comment_end"); %>

   <SCRIPT>
/*
   if(document.tcpip.wanType.selectedIndex != 0){ // static ip
	   group = document.tcpip.dnsMode;
	   for (var r = 0; r < group.length; r++)
		  if (group[r].checked)
		    break;
	   initialDnsMode = r;
	   if (initialDnsMode == 0)
	      disableDNSinput();
   }
*/
	var wan_connection_type=document.tcpip.wanType.selectedIndex;
/*   wanTypeSelection(document.tcpip.wanType);
   alert("after wanTypeSelection MultiPppoeEnable value is :"+MultiPppoeEnable);
   if(wan_connection_type == 2)
   		pppTypeSelection(0);
   	else if(wan_connection_type == 3)
   		pppTypeSelection(1);
   	else if(wan_connection_type == 4)
   		pppTypeSelection(2);
   	else if(wan_connection_type == 5)
   		pppTypeSelection(3);
   	else
*/   	
   		pppConnection_Init();
  </SCRIPT>

  <BR>
  <input type="hidden" value="/tcpip_multiwan.htm" name="submit-url">
  <input type="hidden" value="no" name="ChangeNotSave">
<% getInfo("apply_prompt_comment_start");%>  
  <p><input type="submit" value="Apply" name="save" onClick="return multiWan_saveChanges_wan(document.tcpip)">&nbsp;&nbsp;
	<input type="reset" value="Reset" name="reset" onClick="resetClicked()">
<% getInfo("apply_prompt_comment_end");%>
<% getInfo("apply_direct_comment_start");%>
  <p><input type="submit" value="Save" name="save" onClick="return multiWan_saveChanges_wan(document.tcpip)">&nbsp;&nbsp;
	<input type="submit" value="Save & Apply" name="save_apply" onClick="return multiWan_saveChanges_wan(document.tcpip)">&nbsp;&nbsp;
	<input type="reset" value="Reset" name="reset" onClick="resetClicked()">
<% getInfo("apply_direct_comment_end");%>
    <input type="submit" value="Abort" name="abort" onClick="abortClicked()">
</p>
</form>
</blockquote>
</body>
</html>
