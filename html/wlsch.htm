<html>
<! Copyright (c) Realtek Semiconductor Corp., 2003. All Rights Reserved. ->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<% getIndex("no-cache"); %>
<title>Wireless Schedule Settings</title>
<script type="text/javascript" src="util_gw.js"> </script>
<SCRIPT language=Javascript src="<% getInfo("lang");%>"></SCRIPT>
<% getInfo("include_css"); %>
<script>
	
	var MAXNUM_SCHEDULE = "<% getInfo("maxWebWlSchNum"); %>"*1;
	var WLSCH_MODE= "<% getInfo("wlsch_mode"); %>"*1;
	function init()
	{
		var f=document.mainform;
		if(<% getInfo("wlsch_onoff"); %>){
			document.mainform.onoff.value=1;
			document.mainform.onoff.checked=true;
			}else{
				document.mainform.onoff.value=0;
				document.mainform.onoff.checked=false;
			}
		if(<% getInfo("wlsch_mode"); %>){
			document.mainform.wlsch_mode.value=1;
			document.mainform.wlsch_mode.checked=true;
			}else{
				document.mainform.wlsch_mode.value=0;
				document.mainform.wlsch_mode.checked=false;
			}
			
		for(i=0;i<MAXNUM_SCHEDULE;i++)
		{
			//alert(get_by_id("wlsch_from_"+i).value);
			wlsch_from_init(i, get_by_id("wlsch_from_"+i).value);	
			wlsch_to_init(i, get_by_id("wlsch_to_"+i).value);
			//wlsch_action_init(i,get_by_id("wlsch_action_"+i).value);
			var action_select=get_by_id("wlsch_enable_"+i).value*1;
			wlsch_day_select1(i, get_by_id("wlsch_enable_"+i).value);
			wlsch_weekday_select(i, get_by_id("wlsch_day_"+i).value);
			wlsch_action_select1(i,action_select);

			if(<% getInfo("wlsch_onoff"); %>){
				get_by_id("enable_"+i).disabled = false;
				get_by_id("day_"+i).dsiabled = false;
				get_by_id("from_hour_"+i).disabled = false;
				get_by_id("from_min_"+i).disabled = false;
				if(<% getInfo("wlsch_mode"); %>){
					get_by_id("action_"+i).disabled = false;
					get_by_id("to_hour_"+i).disabled = true;
					get_by_id("to_min_"+i).disabled = true;
				}else{
					get_by_id("action_"+i).disabled = true;
					get_by_id("to_hour_"+i).disabled = false;
					get_by_id("to_min_"+i).disabled = false;
				}
				}else{
				get_by_id("enable_"+i).disabled = true;
				get_by_id("day_"+i).dsiabled = true;
				get_by_id("from_hour_"+i).disabled = true;
				get_by_id("from_min_"+i).disabled = true;
				get_by_id("action_"+i).disabled = true;
				get_by_id("to_hour_"+i).disabled = true;
				get_by_id("to_min_"+i).disabled = true;	
				get_by_id("action_"+i).disabled = true;
				get_by_id("to_hour_"+i).disabled = true;
				get_by_id("to_min_"+i).disabled = true;	
			}
		}
		//wlsch_onoff_select(get_by_id("wlsch_onoff").value);
		
	}		
	
	
	function wlsch_onoff_select(value)
	{
		if(value == 1 || value == true)
		{
			get_by_id("wlsch_onoff").value = 1;
			get_by_id("onoff").checked = true;
			for(i=0;i<MAXNUM_SCHEDULE;i++)
			{
				get_by_id("enable_"+i).disabled = false;
				get_by_id("wlsch_day_"+i).dsiabled = false;
				get_by_id("from_hour_"+i).disabled = false;
				get_by_id("from_min_"+i).disabled = false;
				if(document.mainform.wlsch_mode.value==1){
					get_by_id("action_"+i).disabled = false;
					get_by_id("to_hour_"+i).disabled = true;
					get_by_id("to_min_"+i).disabled = true;
				}else{
					get_by_id("action_"+i).disabled = true;
					get_by_id("to_hour_"+i).disabled = false;
					get_by_id("to_min_"+i).disabled = false;
				}
			}
		}
		else
		{
			get_by_id("wlsch_onoff").value = 0;
			get_by_id("onoff").checked = false;
			for(i=0;i<MAXNUM_SCHEDULE;i++)
			{
				get_by_id("enable_"+i).disabled = true;
				get_by_id("wlsch_day_"+i).dsiabled = true;
				get_by_id("from_hour_"+i).disabled = true;
				get_by_id("from_min_"+i).disabled = true;
				get_by_id("action_"+i).disabled = true;
				get_by_id("to_hour_"+i).disabled = true;
				get_by_id("to_min_"+i).disabled = true;	
				get_by_id("action_"+i).disabled = true;
				get_by_id("to_hour_"+i).disabled = true;
				get_by_id("to_min_"+i).disabled = true;	
			}
		}
	}
function updateAction(value)
{
 	if (value==1 || value==true) {
		document.mainform.wlsch_mode.value=1;
		document.mainform.wlsch_mode.checked=true;
		WLSCH_MODE=1;
		for(i=0;i<MAXNUM_SCHEDULE;i++)
  		{
			get_by_id("action_"+i).disabled = false;
			get_by_id("to_hour_"+i).disabled = true;
			get_by_id("to_min_"+i).disabled = true;
		}
		//wlsch_onoff_select(get_by_id("wlsch_mode").value);
  	}else {
  		WLSCH_MODE=0;
		document.mainform.wlsch_mode.value=0;
		document.mainform.wlsch_mode.checked=false;
		for(i=0;i<MAXNUM_SCHEDULE;i++)
		{
			get_by_id("action_"+i).disabled = true;
			get_by_id("to_hour_"+i).disabled = false;
			get_by_id("to_min_"+i).disabled = false;
		}
		//wlsch_onoff_select(get_by_id("wlsch_mode").value);
	}
}

	
	function wlsch_from_init(index, value)
		{
		var starthours=Math.floor(parseInt(value, 10)/60);
		//alert("starthours="+starthours);
		var startmin=parseInt(value, 10)%60;
		//alert("startmin="+startmin);
		get_by_id("from_hour_"+index).value = starthours;
		get_by_id("from_min_"+index).value = startmin;		
		}
	
	function wlsch_to_init(index, value)
		{
		var endhours=Math.floor(parseInt(value, 10)/60);
		//alert("endhours="+endhours);
		var endmin=parseInt(value, 10)%60;
		//alert("endmin="+endmin);
		get_by_id("to_hour_"+index).value = endhours;
		get_by_id("to_min_"+index).value = endmin;		
			}

	function wlsch_action_init(index, value)
		{
		var action_0=0;
		//var action_0=get_by_id("action_"+index).value*1;
		get_by_id("wlsch_action_"+index).value = action_0;
			}


	function wlsch_from_select(index)
			{
		var starthours=get_by_id("from_hour_"+index).value*1;
		//alert("starthours="+starthours);
		var startmin=get_by_id("from_min_"+index).value*1;
		//alert("startmin="+startmin);
		get_by_id("wlsch_from_"+index).value = starthours*60+startmin;
			}
	
	function wlsch_to_select(index)
			{
		var tohours=get_by_id("to_hour_"+index).value*1;
		//alert("tohours="+tohours);
		var tomin=get_by_id("to_min_"+index).value*1;
		//alert("tomin="+tomin);
		get_by_id("wlsch_to_"+index).value = tohours*60+tomin;
	}

	function wlsch_action_select(index, value)
		{
		var action=get_by_id("action_"+index).value*1;
		get_by_id("wlsch_action_"+index).value =action;
		//get_by_id("action_"+index).value = action;
		}
	
	function wlsch_action_select1(index, value)
		{
			//var actionSelect1=[wlan_schedule_action_disable,wlan_schedule_action_enable];
			if(value==17){
			get_by_id("action_"+index).value=0;
			get_by_id("wlsch_action_"+index).value=0;
			}else if(value==49){
			get_by_id("action_"+index).value=1;
			get_by_id("wlsch_action_"+index).value=1;
			}
		
	}
	function wlsch_day_select1(index, value)
	{
	//alert("wlsch_day_select index="+index);		
		if(value==49||value==17||value==1)
		{
			get_by_id("wlsch_enable_"+index).value = 1;	
			get_by_id("enable_"+index).checked = true;
			get_by_id("enable_"+index).value = 1;
			
		}
		else
		{
			get_by_id("wlsch_enable_"+index).value = 0;
			get_by_id("enable_"+index).checked = false;
			get_by_id("enable_"+index).value = 0;
			
		}
		//alert(get_by_id("wlsch_enable_"+index).value);
	}
	
	function wlsch_day_select(index, value)
	{
	//alert("wlsch_day_select index="+index);		
		if(value == 1 || value == true)
		{
			get_by_id("wlsch_enable_"+index).value = 1;	
			get_by_id("enable_"+index).checked = true;
			
		}
		else
		{
			get_by_id("wlsch_enable_"+index).value = 0;
			get_by_id("enable_"+index).checked = false;
			
		}
		//alert(get_by_id("wlsch_enable_"+index).value);
	}
	
	function wlsch_weekday_select(index, value)
	{
		get_by_id("wlsch_day_"+index).value = value;
		get_by_id("day_"+index).value = value;
	}
	
	function page_submit()
	{
		if(get_by_id("wlsch_onoff").value == 1){
			if(WLSCH_MODE==0){
				for(index=0;index<MAXNUM_SCHEDULE;index++)
				{
					if(get_by_id("wlsch_from_"+index).value*1 > get_by_id("wlsch_to_"+index).value*1)
					{
						alert(wlan_schedule_rule+(index+1)+wlan_schedule_sbte);
						return false;
					}
					if(get_by_id("enable_"+index).checked == true)
					{
						if(get_by_id("wlsch_from_"+index).value*1 == get_by_id("wlsch_to_"+index).value*1)
						{
							alert(wlan_schedule_rule+(index+1)+wlan_schedult_sequale);
							return false;
						}
					}
				}
			}
		}
		document.forms.mainform.submit();
		
	}
	
	var token= new Array();		
	var DataArray = new Array();
	token[0]='<% wlSchList("wlSchList_0");%>';
	token[1]='<% wlSchList("wlSchList_1");%>';
	token[2]='<% wlSchList("wlSchList_2");%>';
	token[3]='<% wlSchList("wlSchList_3");%>';
	token[4]='<% wlSchList("wlSchList_4");%>';
	token[5]='<% wlSchList("wlSchList_5");%>';
	token[6]='<% wlSchList("wlSchList_6");%>';
	token[7]='<% wlSchList("wlSchList_7");%>';	
	token[8]='<% wlSchList("wlSchList_8");%>';	
	token[9]='<% wlSchList("wlSchList_9");%>';
	token[10]='<% wlSchList("wlSchList_10");%>';
	token[11]='<% wlSchList("wlSchList_11");%>';
	token[12]='<% wlSchList("wlSchList_12");%>';
	token[13]='<% wlSchList("wlSchList_13");%>';
	token[14]='<% wlSchList("wlSchList_14");%>';
	token[15]='<% wlSchList("wlSchList_15");%>';
	token[16]='<% wlSchList("wlSchList_16");%>';
	token[17]='<% wlSchList("wlSchList_17");%>';	
	token[18]='<% wlSchList("wlSchList_18");%>';	
	token[19]='<% wlSchList("wlSchList_19");%>';
	token[20]='<% wlSchList("wlSchList_20");%>';
	token[21]='<% wlSchList("wlSchList_21");%>';
	token[22]='<% wlSchList("wlSchList_22");%>';
	token[23]='<% wlSchList("wlSchList_23");%>';
	token[24]='<% wlSchList("wlSchList_24");%>';
	token[25]='<% wlSchList("wlSchList_25");%>';
	token[26]='<% wlSchList("wlSchList_26");%>';
	token[27]='<% wlSchList("wlSchList_27");%>';	
	token[28]='<% wlSchList("wlSchList_28");%>';	
	token[29]='<% wlSchList("wlSchList_29");%>';
	token[30]='<% wlSchList("wlSchList_30");%>';	
	token[31]='<% wlSchList("wlSchList_31");%>';
	
	function wlSchList(num)
	{
		for (var i = 0; i < num; i++)
		{
			/* eco/day/fTime/tTime/week */
			DataArray = token[i].split("|");
			
			document.write("<tr class=\"tbl_body\"><td ><font size='2'>");
      document.write("		<input type='hidden' id='wlsch_enable_"+i+"' name='wlsch_enable_"+i+"' value='"+DataArray[0]+"'*1>");
			document.write("		<input type='checkbox' id='enable_"+i+"' onclick='wlsch_day_select("+i+",this.checked);'></td>");
				      	
      document.write("<td ><font size='2'>");				      	
      document.write("		<input type='hidden' id='wlsch_day_"+i+"' name='wlsch_day_"+i+"' value='"+DataArray[1]+"'*1>");
      document.write("		<select id='day_"+i+"' size='1' onchange='wlsch_weekday_select("+i+", this.value);'>");
						dispalyWeekDayOption();
			document.write("		</select> </font></td>");
			
      document.write("<td ><font size='2'>");
      document.write("		<input type='hidden' id='wlsch_from_"+i+"' name='wlsch_from_"+i+"' value='"+DataArray[2]+"'*1>");
      document.write("		<select id='from_hour_"+i+"' size='1' onchange='wlsch_from_select("+i+");'>");
          	dispalyFromHourOption();
      document.write("		</select>	"+wlan_schedule_for_hour);
      document.write(" 		<select id='from_min_"+i+"' size='1' onchange='wlsch_from_select("+i+");'>");
          	dispalyFromMinOption();
      document.write("		</select>	"+wlan_schedule_for_min+"	</font></td>");

			document.write("<td ><font size=2'>");
      document.write("		<input type='hidden' id='wlsch_to_"+i+"' name='wlsch_to_"+i+"' value='"+DataArray[3]+"'*1>");
      document.write("		<select id='to_hour_"+i+"' size='1' onchange='wlsch_to_select("+i+");'>");
          	dispalyFromHourOption();
      document.write("    </select>	"+wlan_schedule_for_hour);
      document.write("		<select id='to_min_"+i+"' size='1' onchange='wlsch_to_select("+i+");'>");
          	dispalyFromMinOption();
      document.write("		</select>	"+wlan_schedule_for_min+"	</font></td>");
			
				document.write("<td ><font size=2'>");
      document.write("		<input type='hidden' id='wlsch_action_"+i+"' name='wlsch_action_"+i+"' value='"+DataArray[4]+"'*1>");
      document.write("		<select id='action_"+i+"' size='1' onchange='wlsch_action_select("+i+");'>");
          	dispalyActionOption();
      document.write("    </select>	"+wlan_schedule_for_action+"	</font></td></tr>");
			
			
  	}
	}
	
	function page_reset()
	{
			
		//updateAction();	
		for(i=0;i<MAXNUM_SCHEDULE;i++)
		{
			DataArray = token[i].split("|");
			//alert(get_by_id("wlsch_from_"+i).value);
			wlsch_from_init(i, DataArray[2]);
			wlsch_action_init(i, 0);
			wlsch_to_init(i, DataArray[3]);
			wlsch_day_select(i, DataArray[0]);
			wlsch_weekday_select(i, DataArray[1]);
		}
		DataArray = token[0].split("|");
		
		wlsch_onoff_select(get_by_id("wlsch_onoff").value);
		
	}
	
function dispalyWeekDayOption()
{
	var strTmp;
	var weekDay=[wlan_schedule_sun,wlan_schedule_mon,wlan_schedule_tue,wlan_schedule_wed,wlan_schedule_thu,wlan_schedule_fri,wlan_schedule_sat,wlan_schedule_everyday];
			
	for(var i = 0; i <= 7; i++)
	{
		strTmp ="<OPTION value="+i+">"+weekDay[i];
		document.write(strTmp);
	}	
	
}
	
function dispalyFromHourOption()
{
	var strTmp;
	for(var i = 0; i < 24; i++){
		if(i<10){
				strTmp ="<OPTION value="+i+">"+0+i;
		}
		else{
				strTmp ="<OPTION value="+i+">"+i;
		}
		document.write(strTmp);
	}	
}
	
function dispalyFromMinOption()
{
	var strTmp;
	for(var i = 0; i < 60; i++){
		if(i<10){
				strTmp ="<OPTION value="+i+">"+0+i;
		}
		else{
				strTmp ="<OPTION value="+i+">"+i;
		}
		document.write(strTmp);
	}	
}	

function dispalyActionOption()
{
	var strTmp;
	var actionSelect=[wlan_schedule_action_disable,wlan_schedule_action_enable];
	for(var i = 0; i < 2; i++){	
		strTmp ="<OPTION value="+i+">"+actionSelect[i];
		document.write(strTmp);		
	}	
	
}	

function Schedule_to_action_select()
{
	if(WLSCH_MODE){
		dw(wlan_schedule_from_action);
	}else{
		dw(wlan_schedule_from);
	}
}

</script>
</head>
  
  <body onload="init();">
  <blockquote>
  <form action=/boafrm/formNewSchedule method=POST name="mainform">
  	<input type="hidden" value="/wlsch.htm" name="submit-url">
  <h2><script>dw(wlan_schedule_header)</script></h2>
	<table border=0 width="660" cellspacing=4 cellpadding=0>
	<tr><td><font size=2>
<script>dw(wlan_schedule_explain)</script>
	</font></td></tr>
	<tr><td><font size=2>
<script>dw(wlan_schedule_explain_mode0)</script>
	</font></td></tr>
	<tr><td><font size=2>
<script>dw(wlan_schedule_explain_mode1)</script>
	</font></td></tr>

    <tr><td><hr size="1" align="top" noshade="noshade"></td></tr>
    
   <tr><td><font size=2><b>
    <input type='hidden' id='wlsch_onoff' name='wlsch_onoff' value='<% getInfo("wlsch_onoff"); %>'*1>
		   	<input id="onoff" type="checkbox" value="true" onclick='wlsch_onoff_select(this.checked);'>&nbsp;&nbsp;<script>dw(wlan_schedule_enable)</script></b><br>
		    </td>
    </tr> 

	<tr><td><font size=2><b>
			<input type="checkbox" name="wlsch_mode" value="true" onclick='updateAction(this.checked)'>&nbsp;&nbsp;<script>dw(wlan_schedule_mode_enable)</script></b><br>
		    </td>
		</tr>
		
  	
	
	
  </table>
    
    
    <table border="0" width=660>
  
  <tr class="tbl_head">
  	<td height="30" align=center width="10%" ><font size="2"><b><script>dw(wlan_schedule_ena)</script></b></font></td>
  	<td height="30" align=center width="15%" ><font size="2"><b><script>dw(wlan_schedule_day)</script></b></font></td>
  	<td align=center width="25%" ><font size="2"><b><script>dw(wlan_schedule_from)</script></b></font></td>
  	<td align=center width="25%" ><font size="2"><b><script>dw(wlan_schedule_to)</script></b></font></td>
  	<td height="30" align=center width="25%" ><font size="2"><b><script>dw(wlan_schedule_from_action)</script></b></font></td>	
	</tr>
	
    <!--
      <tr>
				<td align = center bgcolor="#C0C0C0"><font size="2">
      		<input type='hidden' id='wlsch_enable_1' name='wlsch_enable_1' value='1'>
      		<input type='checkbox' id='enable_1' onclick='wlsch_day_select(1,this.checked);'>
      		Everyday
      	</font></td>      	
      	
      	<td bgcolor="#C0C0C0"><font size="2">
      		<input type='hidden' id='wlsch_from_1' name='wlsch_from_1' value="0">
      		<select id="from_hour_1" size="1" onchange='wlsch_from_select(1);'>
          	<SCRIPT>dispalyFromHourOption();</SCRIPT>
      		</select>
      		(hour)
      		<select id="from_min_1" size="1" onchange='wlsch_from_select(1);'>
          	<SCRIPT>dispalyFromMinOption();</SCRIPT>
      		</select>
      		(min)
      	</font></td>
      	
      	<td bgcolor="#C0C0C0"><font size="2">
      		<input type='hidden' id='wlsch_to_1' name='wlsch_to_1' value="0">
      		<select id="from_to_1" size="1" onchange='wlsch_to_select(1);'>
          	<SCRIPT>dispalyFromHourOption();</SCRIPT>
      		</select>
      		(hour)
      		<select id="from_min_1" size="1" onchange='wlsch_to_select(1);'>
          	<SCRIPT>dispalyFromMinOption();</SCRIPT>
      		</select>
      		(min)
      	</font></td>
      </tr>
    -->
		<SCRIPT >wlSchList(MAXNUM_SCHEDULE);</SCRIPT>
    
		<br>
		<tr><td>&nbsp;</td></tr>
			
	
  </table>
	<tr><td>
<% getInfo("apply_prompt_comment_start");%>		
    <input type=button name=apply value='Apply Changes' onclick="page_submit();">&nbsp;&nbsp;
    <input type="button" value="Reset" onclick="page_reset();">
<% getInfo("apply_prompt_comment_end");%>
<% getInfo("apply_direct_comment_start");%>
    <input type="hidden" id="save_apply_flag" name="save_apply_flag" value="1">
    <input type=button name=apply value='Save' onclick="document.getElementById('save_apply_flag').name='save';page_submit();">&nbsp;&nbsp;
      <script>document.mainform.apply.value = wlan_schedule_for_save;</script>
    <input type=button name=save_apply value='Save & Apply' onclick="document.getElementById('save_apply_flag').name='save_apply';page_submit();">&nbsp;&nbsp;
      <script>document.mainform.save_apply.value = wlan_schedule_save_apply;</script>

    <input type="button" name=reset value="Reset" onclick="page_reset();">
      <script>document.mainform.reset.value = wlan_schedule_reset;</script>

<% getInfo("apply_direct_comment_end");%>
  </td></tr>
	</form>
 	<br>
  <br>
  <br>
    
	</blockquote>
  </body></html>
